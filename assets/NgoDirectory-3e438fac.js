import{D as w}from"./AdvancedTable-ecfa6ca3.js";import{D as S}from"./DirectoryService-48a8fc1e.js";import{B as D}from"./BaseNav-397fee76.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-5d7fe9f7.js";import{_ as k,a as C,b as A,c as E,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-61ac8911.js";import{_ as T,a as I}from"./SelectLabel.vue_vue_type_script_setup_true_lang-29b00e3a.js";import{l as R,r as u,a as m,f,d as s,m as B,b as t,v as L,x as O,w as o,e as n,F as z,g as F,c as q,t as g,n as K}from"./index-a1754a89.js";import{l as G}from"./lodash-4709d27c.js";import"./NavigationStore-6c8450f5.js";import"./logo-f32e4fd3.js";import"./ohash.D__AXeF1-8450e23e.js";const U={name:"NgoDirectory",components:{AdvancedTable:w,BaseNav:D,Input:N,Select:k,SelectContent:C,SelectGroup:T,SelectItem:A,SelectLabel:I,SelectTrigger:E,SelectValue:V},data(){return{loading:!1,totalResults:0,filters:{query:"",state:"",industry:""},columns:[{key:"name",label:"Organization Name",sort:!0,class:"font-medium text-gray-900"},{key:"fullAddress",label:"Location",sort:!1,formatter:a=>a?a.length>50?a.substring(0,50)+"...":a:"Address not listed"},{key:"legalIDNumber",label:"RC Number",sort:!0,formatter:a=>a?`#${a}`:"-"},{key:"status",label:"Status",sort:!0,slot:"status"}],states:["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"]}},methods:{async loadNgos(a){this.loading=!0;try{const e={page:a.page,size:a.size,sort:a.sort,direction:a.direction,query:this.filters.query,state:this.filters.state==="all"?"":this.filters.state,industry:this.filters.industry==="all"?"":this.filters.industry},c=await S.getNgos(e);return this.totalResults=c.totalElements,{content:c.content,totalElements:c.totalElements,totalPages:c.totalPages}}catch(e){return console.error("Error loading NGOs:",e),{content:[],totalElements:0,totalPages:0}}finally{this.loading=!1}},fetchData(){this.$refs.ngoTable&&this.$refs.ngoTable.fetchDataIfNeeded()},onStateChange(a){this.filters.state=a,this.fetchData()},onIndustryChange(a){this.filters.industry=a,this.fetchData()},resetFilters(){this.filters.query="",this.filters.state="",this.filters.industry="",this.fetchData()},onDataLoaded(a){},debouncedSearch:G.debounce(function(){this.fetchData()},500)}},j={class:"min-h-screen bg-white font-sans"},H={class:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 -mt-8 relative z-20 pb-20"},P={class:"bg-white rounded-3xl shadow-xl p-6 mb-8 transform transition-all hover:shadow-2xl"},M={class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center"},Q={class:"md:col-span-5 relative group"},Z={class:"md:col-span-3 relative"},J={class:"md:col-span-3 relative"},Y={class:"md:col-span-1 flex justify-center md:justify-end"},W={class:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden"},X={class:"px-6 py-4 border-b border-gray-50 bg-gray-50/50 flex justify-between items-center"},$={class:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm border border-gray-100"},ee={class:"p-2"},te={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800"},ae={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"};function se(a,e,c,oe,r,i){const v=u("base-nav"),p=u("SelectValue"),h=u("SelectTrigger"),d=u("SelectItem"),x=u("SelectContent"),b=u("Select"),_=u("router-link"),y=u("AdvancedTable");return m(),f("div",j,[s(v,{greenBg:!0}),e[13]||(e[13]=B('<div class="bg-success-light pt-44 pb-16 px-4 sm:px-6 lg:px-8 relative overflow-hidden" data-v-9a629287><div class="absolute inset-0 opacity-10 pointer-events-none" data-v-9a629287><svg class="h-full w-full border-0" viewBox="0 0 100 100" preserveAspectRatio="none" data-v-9a629287><path d="M0 100 C 20 0 50 0 100 100 Z" fill="#f8fbf8" data-v-9a629287></path></svg></div><div class="container mx-auto max-w-7xl relative z-10 text-center" data-v-9a629287><span class="inline-block py-1 px-3 rounded-full bg-primary text-emerald-200 text-xs font-semibold tracking-wider uppercase mb-4" data-v-9a629287> Public Registry </span><h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4 text-dark" data-v-9a629287> Trusted NGO Directory </h1><p class="text-xl md:text-2xl text-secondary max-w-2xl mx-auto font-light leading-relaxed" data-v-9a629287> Connecting you with verified non-profits making a real difference across Nigeria. </p></div></div>',1)),t("div",H,[t("div",P,[t("div",M,[t("div",Q,[L(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.filters.query=l),onInput:e[1]||(e[1]=(...l)=>i.debouncedSearch&&i.debouncedSearch(...l)),type:"text",class:"w-full form-control form-control-lg transition-all duration-200 ease-in-out",placeholder:"Search by organization name..."},null,544),[[O,r.filters.query]])]),t("div",Z,[s(b,{"model-value":r.filters.state,"onUpdate:modelValue":i.onStateChange},{default:o(()=>[s(h,{class:"w-full rounded-full border-gray-200 bg-gray-50 h-12"},{default:o(()=>[s(p,{placeholder:"All Locations"})]),_:1}),s(x,{class:"bg-white max-h-60"},{default:o(()=>[s(d,{value:""},{default:o(()=>[...e[3]||(e[3]=[n("All Locations",-1)])]),_:1}),(m(!0),f(z,null,F(r.states,l=>(m(),q(d,{key:l,value:l},{default:o(()=>[n(g(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",J,[s(b,{"model-value":r.filters.industry,"onUpdate:modelValue":i.onIndustryChange},{default:o(()=>[s(h,{class:"w-full rounded-full border-gray-300 bg-gray-50 h-12"},{default:o(()=>[s(p,{placeholder:"All Categories"})]),_:1}),s(x,{class:"bg-white"},{default:o(()=>[s(d,{value:""},{default:o(()=>[...e[4]||(e[4]=[n("All Categories",-1)])]),_:1}),s(d,{value:"Non-Profit"},{default:o(()=>[...e[5]||(e[5]=[n("Non-Profit",-1)])]),_:1}),s(d,{value:"Health"},{default:o(()=>[...e[6]||(e[6]=[n("Health",-1)])]),_:1}),s(d,{value:"Education"},{default:o(()=>[...e[7]||(e[7]=[n("Education",-1)])]),_:1}),s(d,{value:"Environment"},{default:o(()=>[...e[8]||(e[8]=[n("Environment",-1)])]),_:1}),s(d,{value:"Human Rights"},{default:o(()=>[...e[9]||(e[9]=[n("Human Rights",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",Y,[t("button",{onClick:e[2]||(e[2]=(...l)=>i.resetFilters&&i.resetFilters(...l)),class:"p-3 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 transition-colors tooltip-target",title:"Reset Filters"},[t("i",{class:K(["fa fa-refresh",{"fa-spin":r.loading}])},null,2)])])])]),t("div",W,[t("div",X,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-800 flex items-center"},[t("span",{class:"w-2 h-2 rounded-full bg-emerald-500 mr-2"}),n(" Verified Organizations ")],-1)),t("span",$,g(r.totalResults>0?`${r.totalResults.toLocaleString()} found`:"Searching..."),1)]),t("div",ee,[s(y,{ref:"ngoTable",title:"NGOs",columns:r.columns,fetchData:i.loadNgos,loadAsync:!0,filterQuery:r.filters.query,hasActions:!0,onDataLoaded:i.onDataLoaded},{status:o(({value:l})=>[l==="VERIFIED"?(m(),f("span",te,[...e[11]||(e[11]=[t("i",{class:"fa fa-check-circle mr-1"},null,-1),n(" Verified ",-1)])])):(m(),f("span",ae,g(l),1))]),actions:o(({row:l})=>[s(_,{to:`/directory/${l.reference}`,class:"group inline-flex items-center px-4 py-2 border border-emerald-200 text-sm font-medium rounded-full text-emerald-700 bg-white hover:bg-emerald-50 hover:border-emerald-300 transition-all shadow-sm hover:shadow-md"},{default:o(()=>[...e[12]||(e[12]=[t("span",null,"View",-1),t("i",{class:"fa fa-arrow-right ml-2 text-xs transform group-hover:translate-x-1 transition-transform"},null,-1)])]),_:1},8,["to"])]),_:1},8,["columns","fetchData","filterQuery","onDataLoaded"])])])])])}const he=R(U,[["render",se],["__scopeId","data-v-9a629287"]]);export{he as default};
