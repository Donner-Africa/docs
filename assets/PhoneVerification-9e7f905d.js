import{B as l}from"./BaseButton-c6c5ab63.js";import{_ as d}from"./PublicLayout-5ccc5a06.js";import{l as m,p as u,A as p,r as f,a as i,c as h,w as y,b as e,z as g,f as n}from"./index-7ab8b32e.js";import"./logo-f32e4fd3.js";import"./NavigationStore-5ae23ca1.js";import"./StarryBackground-a80d183f.js";const v={components:{BaseButton:l,PublicLayout:d},data(){return{loading:!1,resendCount:0,resendWaitTime:0,token:[],codeLength:6,verifyingLink:!1}},created(){this.$route.params.token&&(this.verifyingLink=!0)},async mounted(){this.$route.params.token&&await this.verifyEmailToken(this.$route.params.token)},computed:{formDisabled(){return this.loading||void 0},isSkippable(){var s;return((s=this.$route.meta)==null?void 0:s.skippable)===!0}},methods:{async verifyEmailToken(s){const t=u();this.loading=!0;try{const{data:o,message:a}=await p.initiateAccountVerification(s);t.toast({message:a||"Email verified. Please verify your phone number.",type:"success",duration:5e3}),window.location.href="/account/login"}catch(o){t.toast({message:o.message||"There was an error with your verification link.",type:"error",duration:5e3})}this.loading=!1}}},x={class:"page-header min-vh-100 align-items-start bg-background"},_={class:"container px-sm-auto px-0"},k={class:"row"},b={class:"col-lg-6 col-md-7 mx-sm-auto mx-0 my-0 my-sm-5 px-0 px-sm-auto py-sm-7"},w={class:"card rounded-3 min-vh-100 min-vh-sm-80 bg-transparent"},L={class:"card-body px-lg-5 py-lg-5 text-start"},$={key:0,class:"text-center py-5"},B={key:1,class:"text-center py-5"};function P(s,t,o,a,r,A){const c=f("PublicLayout");return i(),h(c,null,{default:y(()=>[e("section",null,[e("div",x,[e("div",_,[e("div",k,[e("div",b,[e("div",w,[e("div",L,[t[2]||(t[2]=e("div",{class:"success mb-6 mb-md-4"},[e("a",{href:"/",class:"d-none d-md-inline-block icon icon-shape icon-xl rounded-circle bg-background shadow text-center p-3 mx-auto"},[e("img",{src:g,class:"w-[90%] h-[90%] mt-1"})])],-1)),r.verifyingLink?(i(),n("div",$,[...t[0]||(t[0]=[e("div",{class:"spinner-border text-success",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),e("h4",{class:"mt-4 h5 text-foreground"},"Verifying Account...",-1),e("p",{class:"text-secondary text-sm"},"Please wait while we verify your link",-1)])])):(i(),n("div",B,[...t[1]||(t[1]=[e("div",{class:"text-success",role:"status"},[e("i",{class:"fa fa-check-circle fa-5x"})],-1),e("h4",{class:"mt-4 h5 text-foreground"},"Account Verified!",-1),e("p",{class:"text-secondary text-sm"},"Please wait while we redirect you to the login page",-1)])]))])])])])])])])]),_:1})}const z=m(v,[["render",P]]);export{z as default};
