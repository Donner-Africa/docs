import{_ as S}from"./PublicLayout-269a07d3.js";import{D as k}from"./AdvancedTable-82a61cb2.js";import{D as C}from"./DirectoryService-ff4e3f76.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-2dec1dd2.js";import{l as E,r as d,a as c,c as v,w as s,b as t,e as r,d as o,v as V,x as A,f as m,F as T,g as L,t as g,n as I,h as F}from"./index-b26534f3.js";import{_ as R,a as O,b as B,c as q,d as z}from"./SelectValue.vue_vue_type_script_setup_true_lang-1ee213b6.js";import{_ as P,a as K}from"./SelectLabel.vue_vue_type_script_setup_true_lang-c7e07b1f.js";import{l as U}from"./lodash-d8b89392.js";import"./logo-f32e4fd3.js";import"./NavigationStore-b3d00f09.js";import"./StarryBackground-b62efb43.js";import"./ohash.D__AXeF1-d8d16acf.js";const j={name:"NgoDirectory",components:{PublicLayout:S,AdvancedTable:k,Card:N,Select:R,SelectContent:O,SelectGroup:P,SelectItem:B,SelectLabel:K,SelectTrigger:q,SelectValue:z},data(){return{loading:!1,totalResults:0,filters:{query:"",state:"all",industry:"all"},columns:[{key:"name",label:"Organization Name",sort:!0,class:"font-medium text-foreground"},{key:"fullAddress",label:"Location",sort:!1,formatter:a=>a?a.length>50?a.substring(0,50)+"...":a:"Address not listed"},{key:"status",label:"Status",sort:!0,slot:"status"}],states:["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"]}},methods:{async loadNgos(a){this.loading=!0;try{const e={page:a.page,size:a.size,sort:a.sort,direction:a.direction,query:this.filters.query,state:this.filters.state==="all"?"":this.filters.state,industry:this.filters.industry==="all"?"":this.filters.industry},f=await C.getNgos(e);return this.totalResults=f.totalElements,{content:f.content,totalElements:f.totalElements,totalPages:f.totalPages}}catch(e){return console.error("Error loading NGOs:",e),{content:[],totalElements:0,totalPages:0}}finally{this.loading=!1}},fetchData(){this.$refs.ngoTable&&this.$refs.ngoTable.fetchDataIfNeeded()},onStateChange(a){this.filters.state=a,this.fetchData()},onIndustryChange(a){this.filters.industry=a,this.fetchData()},resetFilters(){this.filters.query="",this.filters.state="all",this.filters.industry="all",this.fetchData()},onDataLoaded(a){},debouncedSearch:U.debounce(function(){this.fetchData()},500)}},G={class:"pt-16 pb-6 md:pt-32 md:pb-16 bg-background relative overflow-hidden"},H={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10"},Q={class:"mt-10 flex justify-center gap-4"},J={class:"pb-4 bg-background"},M={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"grid grid-cols-1 md:grid-cols-12 gap-2 items-center"},Z={class:"md:col-span-5 relative group"},W={class:"md:col-span-3"},X={class:"md:col-span-3"},$={class:"md:col-span-1 flex items-center justify-between md:justify-end pr-2"},ee={class:"pb-8 bg-background"},te={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"px-8 py-6 border-b border-border/40 flex justify-between items-center bg-accent/5"},oe={class:"flex items-center gap-3"},ae={key:0,class:"flex items-center text-xs font-medium text-[#367D21]"},le={class:"text-[11px] uppercase tracking-wider font-bold text-muted-foreground bg-accent/50 px-4 py-1.5 rounded-full border border-border/20 shadow-sm"},re={class:"p-2"},ne={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#367D21]/10 text-[#367D21]"},ie={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-muted-foreground"};function de(a,e,f,ue,n,i){const p=d("router-link"),x=d("SelectValue"),b=d("SelectTrigger"),u=d("SelectItem"),_=d("SelectContent"),h=d("Select"),y=d("Card"),w=d("AdvancedTable"),D=d("PublicLayout");return c(),v(D,null,{default:s(()=>[t("section",G,[e[7]||(e[7]=t("div",{class:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,rgba(54,125,33,0.05)_0%,transparent_70%)] pointer-events-none"},null,-1)),t("div",H,[e[4]||(e[4]=t("span",{class:"inline-block py-1.5 px-4 rounded-full bg-[#367D21] text-white text-[10px] font-bold tracking-widest uppercase mb-6 shadow-sm shadow-[#367D21]/20"}," Public Registry ",-1)),e[5]||(e[5]=t("h1",{class:"text-4xl md:text-5xl lg:text-7xl font-bold text-foreground tracking-tight mb-6"},[r(" Trusted NGO "),t("span",{class:"text-[#367D21]"},"Directory")],-1)),e[6]||(e[6]=t("p",{class:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed"}," Connecting you with verified non-profits making a real difference across Nigeria. ",-1)),t("div",Q,[o(p,{to:"/directory/stats",class:"group inline-flex items-center px-8 py-3.5 border border-[#367D21] text-sm font-semibold rounded-full text-[#367D21] bg-transparent hover:bg-[#367D21] hover:text-white transition-all duration-300 shadow-md hover:shadow-[#367D21]/20"},{default:s(()=>[...e[3]||(e[3]=[t("i",{class:"fa fa-chart-bar mr-2.5 transition-transform group-hover:scale-110"},null,-1),r(" View Industry Statistics ",-1)])]),_:1})])])]),t("section",J,[t("div",M,[o(y,{class:"p-2 md:p-3 border-border/40 bg-card shadow-xl shadow-foreground/5 rounded-[2rem]"},{default:s(()=>[t("div",Y,[t("div",Z,[e[8]||(e[8]=t("div",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground transition-colors group-focus-within:text-[#367D21]"},[t("i",{class:"fa fa-search"})],-1)),V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.filters.query=l),onInput:e[1]||(e[1]=(...l)=>i.debouncedSearch&&i.debouncedSearch(...l)),type:"text",class:"w-full pl-11 pr-4 py-4 rounded-full border-none bg-accent/30 focus:bg-accent/50 focus:ring-2 focus:ring-[#367D21]/20 transition-all duration-300 text-sm outline-none",placeholder:"Search by organization name..."},null,544),[[A,n.filters.query]])]),t("div",W,[o(h,{"model-value":n.filters.state,"onUpdate:modelValue":i.onStateChange},{default:s(()=>[o(b,{class:"w-full rounded-full border-none bg-accent/30 h-[52px] px-6 text-sm hover:bg-accent/50 transition-colors"},{default:s(()=>[o(x,{placeholder:"All Locations"})]),_:1}),o(_,{class:"bg-card max-h-60 rounded-2xl shadow-xl"},{default:s(()=>[o(u,{value:"all"},{default:s(()=>[...e[9]||(e[9]=[r("All Locations",-1)])]),_:1}),(c(!0),m(T,null,L(n.states,l=>(c(),v(u,{key:l,value:l},{default:s(()=>[r(g(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",X,[o(h,{"model-value":n.filters.industry,"onUpdate:modelValue":i.onIndustryChange},{default:s(()=>[o(b,{class:"w-full rounded-full border-none bg-accent/30 h-[52px] px-6 text-sm hover:bg-accent/50 transition-colors"},{default:s(()=>[o(x,{placeholder:"All Categories"})]),_:1}),o(_,{class:"bg-card rounded-2xl shadow-xl"},{default:s(()=>[o(u,{value:"all"},{default:s(()=>[...e[10]||(e[10]=[r("All Categories",-1)])]),_:1}),o(u,{value:"Non-Profit"},{default:s(()=>[...e[11]||(e[11]=[r("Non-Profit",-1)])]),_:1}),o(u,{value:"Health"},{default:s(()=>[...e[12]||(e[12]=[r("Health",-1)])]),_:1}),o(u,{value:"Education"},{default:s(()=>[...e[13]||(e[13]=[r("Education",-1)])]),_:1}),o(u,{value:"Environment"},{default:s(()=>[...e[14]||(e[14]=[r("Environment",-1)])]),_:1}),o(u,{value:"Human Rights"},{default:s(()=>[...e[15]||(e[15]=[r("Human Rights",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",$,[t("button",{onClick:e[2]||(e[2]=(...l)=>i.resetFilters&&i.resetFilters(...l)),class:"p-3.5 rounded-full text-muted-foreground hover:text-red-500 hover:bg-red-500/10 transition-all duration-300",title:"Reset Filters"},[t("i",{class:I(["fa fa-sync-alt",{"fa-spin":n.loading}])},null,2)])])])]),_:1})])]),t("section",ee,[t("div",te,[o(y,{class:"border-border/40 bg-card overflow-hidden"},{default:s(()=>[t("div",se,[e[17]||(e[17]=t("h2",{class:"text-xl font-bold text-foreground flex items-center"},[t("span",{class:"w-2.5 h-2.5 rounded-full bg-[#367D21] mr-3 animate-pulse"}),r(" Verified Organizations ")],-1)),t("div",oe,[n.loading?(c(),m("span",ae,[...e[16]||(e[16]=[t("i",{class:"fa fa-circle-notch fa-spin mr-2"},null,-1),r(" Updating results... ",-1)])])):F("",!0),t("span",le,g(n.totalResults.toLocaleString())+" listed ",1)])]),t("div",re,[o(w,{ref:"ngoTable",title:"NGOs",columns:n.columns,fetchData:i.loadNgos,loadAsync:!0,filterQuery:n.filters.query,hasActions:!0,onDataLoaded:i.onDataLoaded,onClearFilters:i.resetFilters},{status:s(({value:l})=>[l==="VERIFIED"?(c(),m("span",ne,[...e[18]||(e[18]=[t("i",{class:"fa fa-check-circle mr-1"},null,-1),r(" Verified ",-1)])])):(c(),m("span",ie,g(l),1))]),actions:s(({row:l})=>[o(p,{to:`/directory/${l.reference}`,class:"group inline-flex items-center px-4 py-2 border border-[#367D21]/30 text-sm font-medium rounded-full text-[#367D21] bg-card hover:bg-[#367D21]/5 hover:border-[#367D21]/50 transition-all"},{default:s(()=>[...e[19]||(e[19]=[t("span",null,"View",-1),t("i",{class:"fa fa-arrow-right ml-2 text-xs transform group-hover:translate-x-1 transition-transform"},null,-1)])]),_:1},8,["to"])]),_:1},8,["columns","fetchData","filterQuery","onDataLoaded","onClearFilters"])])]),_:1})])])]),_:1})}const De=E(j,[["render",de]]);export{De as default};
