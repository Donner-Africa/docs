import{_ as k}from"./PublicLayout-5ccc5a06.js";import{D as S}from"./AdvancedTable-4a2b6414.js";import{D as C}from"./DirectoryService-f5e91f8b.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-db44b714.js";import{l as E,r as n,a as c,c as v,w as o,b as t,d as l,e as a,s as V,v as A,f as m,F as T,g as L,t as p,n as F,h as I}from"./index-7ab8b32e.js";import{_ as R,a as z,b as B,c as O,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-fd341d68.js";import{_ as K,a as U}from"./SelectLabel.vue_vue_type_script_setup_true_lang-f1f8cb8d.js";import{l as j}from"./lodash-59f9b598.js";import"./logo-f32e4fd3.js";import"./NavigationStore-5ae23ca1.js";import"./StarryBackground-a80d183f.js";import"./ohash.D__AXeF1-7a7a490e.js";const q={name:"NgoDirectory",components:{PublicLayout:k,AdvancedTable:S,Card:N,Select:R,SelectContent:z,SelectGroup:K,SelectItem:B,SelectLabel:U,SelectTrigger:O,SelectValue:P},data(){return{loading:!1,totalResults:0,filters:{query:"",state:"all",industry:"all"},columns:[{key:"name",label:"Organization Name",sort:!0,class:"font-medium text-foreground"},{key:"fullAddress",label:"Location",sort:!1,formatter:s=>s?s.length>50?s.substring(0,50)+"...":s:"Address not listed"},{key:"status",label:"Status",sort:!0,slot:"status"}],states:["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"]}},methods:{async loadNgos(s){this.loading=!0;try{const e={page:s.page,size:s.size,sort:s.sort,direction:s.direction,query:this.filters.query,state:this.filters.state==="all"?"":this.filters.state,industry:this.filters.industry==="all"?"":this.filters.industry},f=await C.getNgos(e);return this.totalResults=f.totalElements,{content:f.content,totalElements:f.totalElements,totalPages:f.totalPages}}catch(e){return console.error("Error loading NGOs:",e),{content:[],totalElements:0,totalPages:0}}finally{this.loading=!1}},fetchData(){this.$refs.ngoTable&&this.$refs.ngoTable.fetchDataIfNeeded()},onStateChange(s){this.filters.state=s,this.fetchData()},onIndustryChange(s){this.filters.industry=s,this.fetchData()},resetFilters(){this.filters.query="",this.filters.state="all",this.filters.industry="all",this.fetchData()},onDataLoaded(s){},debouncedSearch:j.debounce(function(){this.fetchData()},500)}},G={class:"pt-16 pb-8 md:pt-32 md:pb-16 bg-background relative overflow-hidden"},H={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10"},$={class:"mt-6 flex justify-center gap-4"},Q={class:"pb-4 bg-background"},J={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"grid grid-cols-1 md:grid-cols-12 gap-2 items-center"},Y={class:"md:col-span-5 input-group border-border border-3 shadow-none bg-background"},Z={class:"md:col-span-3"},W={class:"md:col-span-3"},X={class:"md:col-span-1 flex items-center justify-between md:justify-end pr-2"},ee={class:"pb-8 bg-background"},te={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"px-8 py-6 border-b border-border/40 flex justify-between items-center bg-accent/5"},oe={class:"flex items-center gap-3"},ae={key:0,class:"flex items-center text-xs font-medium text-success"},re={class:"text-[11px] uppercase tracking-wider font-bold text-muted-foreground bg-accent/50 px-4 py-1.5 rounded-full border border-border/20"},le={class:"p-2"},ne={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#367D21]/10 text-success"},ie={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-muted-foreground"};function de(s,e,f,ue,i,u){const g=n("router-link"),b=n("SelectValue"),x=n("SelectTrigger"),d=n("SelectItem"),h=n("SelectContent"),_=n("Select"),y=n("Card"),w=n("AdvancedTable"),D=n("PublicLayout");return c(),v(D,null,{default:o(()=>[t("section",G,[e[8]||(e[8]=t("div",{class:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,rgba(54,125,33,0.05)_0%,transparent_70%)] pointer-events-none"},null,-1)),t("div",H,[e[5]||(e[5]=t("span",{class:"inline-block py-1.5 px-4 rounded-full bg-[#367D21] text-white text-[10px] font-bold tracking-widest uppercase mb-6"}," Public Registry ",-1)),e[6]||(e[6]=t("h1",{class:"text-4xl md:text-5xl lg:text-7xl font-bold text-foreground tracking-tight mb-6"},[l(" Trusted "),t("span",{class:"text-success"},"Directory")],-1)),e[7]||(e[7]=t("p",{class:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed"}," Connecting you with verified organisations making a real difference across Nigeria. ",-1)),t("div",$,[a(g,{to:"/directory/stats",class:"group inline-flex items-center px-8 py-3.5 border border-[#367D21] text-sm font-semibold rounded-full text-success bg-transparent hover:bg-[#367D21] hover:text-white transition-all duration-300"},{default:o(()=>[...e[4]||(e[4]=[t("i",{class:"fa fa-chart-bar mr-2.5 transition-transform group-hover:scale-110"},null,-1),l(" View Industry Statistics ",-1)])]),_:1})])])]),t("section",Q,[t("div",J,[a(y,{class:"p-2 md:p-3 border-border/40 bg-card shadow-transparent rounded-[2rem]"},{default:o(()=>[t("div",M,[t("div",Y,[t("span",{class:"bg-transparent input-group-text px-3 border-0",onClick:e[0]||(e[0]=r=>{s.page=0,s.size=3,s.search()})},[...e[9]||(e[9]=[t("i",{class:"fas fa-search","aria-hidden":"true"},null,-1)])]),V(t("input",{class:"form-control form-control-lg bg-transparent border-0 text-lg",onInput:e[1]||(e[1]=r=>{s.page=0,s.size=3,s.search()}),ref:"searchField",placeholder:"Search organisations","onUpdate:modelValue":e[2]||(e[2]=r=>s.keyword=r),style:{"box-shadow":"none !important"}},null,544),[[A,s.keyword]])]),t("div",Z,[a(_,{"model-value":i.filters.state,"onUpdate:modelValue":u.onStateChange},{default:o(()=>[a(x,{class:"w-full rounded-full border-none bg-accent/30 h-[52px] px-6 text-sm hover:bg-accent/50 transition-colors"},{default:o(()=>[a(b,{placeholder:"All Locations"})]),_:1}),a(h,{class:"bg-card max-h-60 rounded-2xl"},{default:o(()=>[a(d,{value:"all"},{default:o(()=>[...e[10]||(e[10]=[l("All Locations",-1)])]),_:1}),(c(!0),m(T,null,L(i.states,r=>(c(),v(d,{key:r,value:r},{default:o(()=>[l(p(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",W,[a(_,{"model-value":i.filters.industry,"onUpdate:modelValue":u.onIndustryChange},{default:o(()=>[a(x,{class:"w-full rounded-full border-none bg-accent/30 h-[52px] px-6 text-sm hover:bg-accent/50 transition-colors"},{default:o(()=>[a(b,{placeholder:"All Categories"})]),_:1}),a(h,{class:"bg-card rounded-2xl"},{default:o(()=>[a(d,{value:"all"},{default:o(()=>[...e[11]||(e[11]=[l("All Categories",-1)])]),_:1}),a(d,{value:"Non-Profit"},{default:o(()=>[...e[12]||(e[12]=[l("Non-Profit",-1)])]),_:1}),a(d,{value:"Health"},{default:o(()=>[...e[13]||(e[13]=[l("Health",-1)])]),_:1}),a(d,{value:"Education"},{default:o(()=>[...e[14]||(e[14]=[l("Education",-1)])]),_:1}),a(d,{value:"Environment"},{default:o(()=>[...e[15]||(e[15]=[l("Environment",-1)])]),_:1}),a(d,{value:"Human Rights"},{default:o(()=>[...e[16]||(e[16]=[l("Human Rights",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",X,[t("button",{onClick:e[3]||(e[3]=(...r)=>u.resetFilters&&u.resetFilters(...r)),class:"py-2 px-3 rounded-full text-muted-foreground hover:bg-red-300/10 border-0 transition-all duration-300",title:"Reset Filters"},[t("i",{class:F(["fa fa-sync-alt",{"fa-spin":i.loading}])},null,2)])])])]),_:1})])]),t("section",ee,[t("div",te,[a(y,{class:"border-border/40 bg-card overflow-hidden bg-transparent"},{default:o(()=>[t("div",se,[e[18]||(e[18]=t("h2",{class:"text-xl font-bold text-foreground flex items-center"},[t("span",{class:"w-2.5 h-2.5 rounded-full bg-[#367D21] mr-3 animate-pulse"}),l(" Verified Organizations ")],-1)),t("div",oe,[i.loading?(c(),m("span",ae,[...e[17]||(e[17]=[t("i",{class:"fa fa-circle-notch fa-spin mr-2"},null,-1),l(" Updating results... ",-1)])])):I("",!0),t("span",re,p(i.totalResults.toLocaleString())+" listed ",1)])]),t("div",le,[a(w,{ref:"ngoTable",title:"NGOs",columns:i.columns,fetchData:u.loadNgos,loadAsync:!0,filterQuery:i.filters.query,hasActions:!0,onDataLoaded:u.onDataLoaded,onClearFilters:u.resetFilters},{status:o(({value:r})=>[r==="VERIFIED"?(c(),m("span",ne,[...e[19]||(e[19]=[t("i",{class:"fa fa-check-circle mr-1"},null,-1),l(" Verified ",-1)])])):(c(),m("span",ie,p(r),1))]),actions:o(({row:r})=>[a(g,{to:`/directory/${r.reference}`,class:"group inline-flex items-center px-4 py-2 border border-[#367D21]/30 text-sm font-medium rounded-full text-success bg-card hover:bg-[#367D21]/5 hover:border-[#367D21]/50 transition-all"},{default:o(()=>[...e[20]||(e[20]=[t("span",null,"View",-1),t("i",{class:"fa fa-arrow-right ml-2 text-xs transform group-hover:translate-x-1 transition-transform"},null,-1)])]),_:1},8,["to"])]),_:1},8,["columns","fetchData","filterQuery","onDataLoaded","onClearFilters"])])]),_:1})])])]),_:1})}const De=E(q,[["render",de]]);export{De as default};
