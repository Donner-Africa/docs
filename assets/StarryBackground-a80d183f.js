import{l as z,o as I,a6 as R,aj as B,a as E,f as O,b as L,j as S,af as j}from"./index-7ab8b32e.js";const A=60,N=18,U={__name:"StarryBackground",setup(X){const y=S(null),s=S(null),{theme:$}=j();let m=null,p=[],i=1;function T(){return document.documentElement.classList.contains("dark")}function b(e,a){p=[];for(let n=0;n<A;n++)p.push({type:"star",x:Math.random()*e,y:Math.random()*a,size:Math.random()*1+1,opacity:Math.random()*.08+.01,twinkleSpeed:Math.random()*.004+.001,twinklePhase:Math.random()*Math.PI*2,driftX:(Math.random()-.5)*.01,driftY:Math.random()*.006+.0015,points:Math.random()>.5?4:5});for(let n=0;n<N;n++)p.push({type:"clover",x:Math.random()*e,y:Math.random()*a,size:Math.random()*3+3,opacity:Math.random()*.08+.1,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*4e-4,driftX:(Math.random()-.5)*.015,driftY:Math.random()*.01+.0025,twinkleSpeed:Math.random()*.002+5e-4,twinklePhase:Math.random()*Math.PI*2})}function _(e,a,n,o,l){const r=o,t=o*.4;e.beginPath();for(let d=0;d<l*2;d++){const f=Math.PI/l*d-Math.PI/2,h=d%2===0?r:t,c=a+Math.cos(f)*h,u=n+Math.sin(f)*h;d===0?e.moveTo(c,u):e.lineTo(c,u)}e.closePath(),e.fill()}function C(e,a,n,o,l){e.save(),e.translate(a,n),e.rotate(l);const r=o*.45;for(let t=0;t<4;t++)e.save(),e.rotate(Math.PI/2*t),e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(r*.3,-r*.6,r,-r*.6,r*.5,-r*.05),e.bezierCurveTo(r,r*.5,r*.3,r*.6,0,0),e.closePath(),e.fill(),e.restore();e.beginPath(),e.moveTo(0,0),e.quadraticCurveTo(o*.15,o*.4,o*.05,o*.7),e.lineWidth=o*.08,e.stroke(),e.restore()}function g(e,a,n,o){e.clearRect(0,0,a,n);const l=T(),r=l?[104,33,125]:[54,125,33];for(const t of p){const d=Math.sin(o*t.twinkleSpeed+t.twinklePhase),f=t.opacity*(.6+d*.4);t.x+=t.driftX,t.y+=t.driftY,t.y>n+20&&(t.y=-20,t.x=Math.random()*a),t.x>a+20&&(t.x=-20),t.x<-20&&(t.x=a+20);const[h,c,u]=r,v=l?f:f*.85;t.type==="star"?(e.fillStyle=`rgba(${h}, ${c}, ${u}, ${v})`,_(e,t.x,t.y,t.size*i,t.points),t.size>1.5&&(e.fillStyle=`rgba(${h}, ${c}, ${u}, ${v*.3})`,_(e,t.x,t.y,t.size*i*2.5,t.points))):t.type==="clover"&&(t.rotation+=t.rotationSpeed,e.fillStyle=`rgba(${h}, ${c}, ${u}, ${v})`,e.strokeStyle=`rgba(${h}, ${c}, ${u}, ${v*.8})`,C(e,t.x,t.y,t.size*i,t.rotation))}m=requestAnimationFrame(t=>g(e,a,n,t))}function k(){if(!s.value||!y.value)return;i=window.devicePixelRatio||1;const e=y.value.getBoundingClientRect(),a=e.width*i,n=e.height*i;s.value.width=a,s.value.height=n,s.value.style.width=e.width+"px",s.value.style.height=e.height+"px";const o=s.value.getContext("2d");o.scale(i,i),b(e.width,e.height),g(o,e.width,e.height,0)}function w(){m&&(cancelAnimationFrame(m),m=null)}let M=null;function P(){clearTimeout(M),M=setTimeout(()=>{w(),k()},25e4)}return I(()=>{k(),window.addEventListener("resize",P)}),R(()=>{w(),window.removeEventListener("resize",P),clearTimeout(M)}),B($,()=>{}),(e,a)=>(E(),O("div",{ref_key:"container",ref:y,class:"fixed inset-0 pointer-events-none z-30 starry-background overflow-hidden","aria-hidden":"true"},[L("canvas",{ref_key:"canvas",ref:s,class:"w-full h-full"},null,512)],512))}},q=z(U,[["__scopeId","data-v-7a111fed"]]);export{q as S};
