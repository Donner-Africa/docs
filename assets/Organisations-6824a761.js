import{B as m}from"./BaseButton-0ce690ec.js";import g from"./OrganisationService-4d562ca3.js";import{l as _,V as p,r as f,a as o,f as n,b as s,d as r,w as d,e as l,F as v,g as b,t as h}from"./index-1124f981.js";import{_ as y}from"./banner.placeholder-34b9648c.js";const x={components:{BaseButton:m},data(){return{user:{},organisations:[],loadingOrganisation:!0}},created(){const i=p();this.user=i.$state,this.loadOrganisations()},methods:{async loadOrganisations(){const{data:i}=await g.getOrganisations();this.organisations=i,this.loadingOrganisation=!1}}},w={class:""},O={class:"container-fluid"},k={class:"row px-md-2 py-4"},$={key:0,class:"col-12"},B={key:0,class:"text-foreground my-6"},S={key:1,class:"text-foreground my-6"},L={class:"card shadow-none w-[100%] bg-background mt-4 p-3 border border-light"},V={class:"row",style:{overflow:"hidden"}},N=["onLoadOnce"],j={class:"col-lg-8 d-md-inline-flex"},C={class:"py-3 ps-sm-2 pe-sm-auto row position-relative w-[100%]"},F={class:"col-12 mb-2"},I={class:"text-wrap text-gradient text-foreground"},M={class:"row position-relative"},R={class:"col-12 position-absolute bottom-0"};function U(i,t,z,D,c,u){const a=f("RouterLink");return o(),n("div",null,[s("section",w,[s("div",O,[t[5]||(t[5]=s("div",{class:"row mb-3"},[s("div",{class:"col-sm-12 order-2 order-sm-0 text-start pt-3"},[s("h1",{class:"text-gradient text-foreground",style:{"font-size":"36px"}}," My Organisations ")])],-1)),s("div",k,[c.organisations.length==0?(o(),n("div",$,[u.loadOrganisations?(o(),n("div",B,[...t[0]||(t[0]=[s("h4",null," We are loading your organisations... ",-1),s("p",null," Please wait. ",-1)])])):(o(),n("div",S,[t[2]||(t[2]=s("h4",null," You have not added any of your organisations yet. ",-1)),t[3]||(t[3]=s("p",null," Setup one up now. ",-1)),r(a,{to:"/organisations/setup",class:"btn btn-sm btn-outline-success bg-background"},{default:d(()=>[...t[1]||(t[1]=[l(" Setup Organisation ",-1)])]),_:1})]))])):(o(!0),n(v,{key:1},b(c.organisations,e=>(o(),n("div",{class:"col-sm-10 col-md-8",key:e.reference},[s("div",L,[s("div",V,[r(a,{to:`/me/organisations/${e.reference}/`,class:"col-lg-4 d-md-inline-flex"},{default:d(()=>[s("img",{src:y,onLoadOnce:E=>i.resolveImage(e.id,e.iconUrl),ref_for:!0,ref:`organisation${e.id}banner`,style:{"min-height":"200px",width:"100% !important","object-fit":"cover","object-position":"center"},class:"img-fluid rounded-3"},null,40,N)]),_:2},1032,["to"]),s("div",j,[s("div",C,[s("div",F,[s("h4",I,[r(a,{to:`/me/organisations/${e.reference}`},{default:d(()=>[l(h(e.name),1)]),_:2},1032,["to"])])]),s("div",M,[s("div",R,[r(a,{to:`/me/organisations/${e.reference}`,class:"btn btn-outline-secondary text-lg px-3 me-2 me-sm-4 mb-0"},{default:d(()=>[...t[4]||(t[4]=[s("i",{class:"d-none d-sm-inline mx-2 fa fa-globe"},null,-1),l(" Manage ",-1)])]),_:1},8,["to"])])])])])])])]))),128))])])])])}const q=_(x,[["render",U],["__scopeId","data-v-eb146c48"]]);export{q as default};
