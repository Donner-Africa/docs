import{B as G}from"./BaseButton-0ea92229.js";import{D as H,_ as W}from"./PublicLayout-f33895db.js";import{E as z,a as c,f as g,G as B,n as R,u as E,H as $,c as b,w as r,I as j,J as U,l as q,K as J,L as K,M as Q,N as X,O as Y,_ as Z,r as n,b as e,s as S,v as ee,x as se,d as a,e as l,F as D,g as C,t as p,P as te,h as oe}from"./index-5e43ba67.js";import{_ as re,a as ae,b as ne,c as le,d as ie}from"./SelectValue.vue_vue_type_script_setup_true_lang-b5c1aaac.js";import{_ as de,a as ce}from"./SelectLabel.vue_vue_type_script_setup_true_lang-3fdbf38b.js";import{_ as ue}from"./Label.vue_vue_type_script_setup_true_lang-fbef5eb0.js";import{F as me}from"./FundRaiserService-85715b72.js";import{C as ge}from"./ConfigurationService-0bbd3fd3.js";import{f as pe}from"./FormUtility-a2bc7d0b.js";import{_ as F}from"./banner.placeholder-34b9648c.js";import"./logo-f32e4fd3.js";import"./NavigationStore-d00f3c13.js";import"./StarryBackground-4b631395.js";import"./ohash.D__AXeF1-65c2bf3a.js";const fe=z({__name:"DialogFooter",props:{class:{}},setup(i){const s=i;return(u,m)=>(c(),g("div",{class:R(E($)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",s.class))},[B(u.$slots,"default")],2))}}),he=z({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const s=i;return(u,m)=>(c(),b(E(H),j(U(s)),{default:r(()=>[B(u.$slots,"default")]),_:3},16))}}),be="/img/backgrounds/stories.png",_e="/img/backgrounds/raisers.png",M="/img/shapes/raiser-not-found.svg",ye={components:{BaseButton:G,PublicLayout:W,Dialog:J,DialogContent:K,DialogDescription:Q,DialogFooter:fe,DialogHeader:X,DialogTitle:Y,DialogTrigger:he,Select:re,SelectContent:ae,SelectGroup:de,SelectItem:ne,SelectLabel:ce,SelectTrigger:le,SelectValue:ie,Button:Z,Label:ue},data(){return{keyword:"",searching:!1,raisers:[],page:0,size:12,totalElements:1,seeingMore:!0,showSeeMoreButton:!1,showFilterModal:!1,category:"",country:"Nigeria",categories:[]}},computed:{displayedAmount(){return this.totalElements>1e3?"1000+":this.totalElements>500?"500+":this.totalElements>250?"250+":this.totalElements>100?"100+":this.totalElements>50?"50+":this.totalElements>10?"10+":this.totalElements>5?"5+":this.totalElements}},methods:{formatAmount:pe,resolveImage(i,s){if(s){var u=new Image;u.onload=()=>{const m=this.$refs[`raiser${i}banner`][0];m.src=u.src,m.style.filter=" grayscale(0)"},u.src=s}},resetFilters(){this.category="",this.country="Nigeria",this.search(),this.showFilterModal=!1},applyFilter(){this.showFilterModal=!1,this.page=0,this.search()},async search(i){const s=this.keyword.trim();if(s=="")return;this.searching=!0,this.size=4,i&&(this.size=12,this.page+=this.seeingMore?1:0);const u={keyword:`${s}`,size:this.size,page:this.page,category:this.category==="all"?"":this.category,country:this.country==="all"?"":this.country};try{const{content:m,pageable:o,totalElements:d=0,last:f=!1}=await me.searchFundRaisers(u);this.totalElements=d,i?(this.raisers=this.seeingMore?this.raisers.concat(m):m,this.seeingMore=!0):(this.raisers=m,this.seeingMore=!1),this.showSeeMoreButton=!f}finally{this.searching=!1}}},async mounted(){this.categories=ge.get("fundRaiserCategories")||[],await this.search(),this.searchCount=0,this.$refs.searchField.focus();const{s:i}=this.$route.query;i&&(this.keyword=i,this.search())}},ve={class:"my-5 pt-6 pt-sm-8 pt-md-9"},xe={class:"container mt-sm-5 mt-3"},we={class:"row"},ke={class:"col-md-12"},Se={class:"row d-block"},De={class:"col-12"},Ce={class:"row position-relative"},Fe={class:"col-md-6"},Me={key:0,class:"row mt-6"},ze={key:1,class:"row"},Be={class:"card-header p-0 mx-3 mt-3 position-relative z-index-1"},Re={class:"d-block"},Ee=["onLoadOnce"],Le={class:"card-body pt-3 rounded-0"},Ne={class:"card-description mb-4 text-truncate text-muted-foreground",style:{"font-size":".8rem"}},Ve={class:"text-foreground"},Te={class:"col-12 align-items-center"},Ie={class:"d-flex position-relative"},Ae={class:"progress mt-2 mb-3 position-relative",style:{height:"2px",width:"100%",overflow:"hidden"}},Pe={class:"name row"},Oe={class:"col-6 text-bolder text-sm"},Ge={class:"text-success text-truncate"},He={class:"col-6 text-bolder text-sm text-end text-truncate d-none"},We={class:"text-success text-truncate"},$e={class:"mb-4 text-sm text-bolder text-underline"},je={key:2,class:"row"},Ue={key:3,class:"row"},qe={class:"grid gap-4 pb-5 pt-3"},Je={class:"grid gap-2"},Ke={class:"grid gap-2"};function Qe(i,s,u,m,o,d){const f=n("Button"),_=n("RouterLink"),L=n("BaseButton"),N=n("DialogTitle"),V=n("DialogDescription"),T=n("DialogHeader"),y=n("Label"),v=n("SelectValue"),x=n("SelectTrigger"),h=n("SelectItem"),w=n("SelectContent"),k=n("Select"),I=n("DialogFooter"),A=n("DialogContent"),P=n("Dialog"),O=n("PublicLayout");return c(),b(O,null,{default:r(()=>[e("section",ve,[e("div",xe,[e("div",we,[e("div",ke,[e("div",Se,[e("div",De,[e("div",Ce,[e("div",Fe,[e("div",null,[s[10]||(s[10]=e("h1",{class:"pb-1 text-foreground",style:{"font-size":"48px","font-weight":"800"}}," Discover Raisers ",-1)),s[11]||(s[11]=e("h4",{class:"pb-3 text-muted-foreground",style:{"font-size":"18px","font-weight":"400"}}," Find campaigns and fundraisers with keywords, location, or title ",-1)),e("form",{class:"input-group border-border border-3 mb-3 position-sticky shadow-none bg-background",onSubmit:s[4]||(s[4]=S(t=>{o.page=0,o.size=3,d.search()},["prevent"]))},[e("span",{class:"bg-transparent input-group-text px-3 border-0",onClick:s[0]||(s[0]=t=>{o.page=0,o.size=3,d.search()})},[...s[9]||(s[9]=[e("i",{class:"fas fa-search","aria-hidden":"true"},null,-1)])]),ee(e("input",{class:"form-control form-control-lg bg-transparent border-0 text-lg",onInput:s[1]||(s[1]=t=>{o.page=0,o.size=3,d.search()}),ref:"searchField",placeholder:"Search raisers","onUpdate:modelValue":s[2]||(s[2]=t=>o.keyword=t),style:{"box-shadow":"none !important"}},null,544),[[se,o.keyword]]),a(f,{variant:"ghost",size:"icon",class:"bg-transparent px-3 me-2 border-0 cursor-pointer transition-colors hover:bg-gray-100 rounded-none h-auto",onClick:s[3]||(s[3]=t=>o.showFilterModal=!0),type:"button"},{default:r(()=>[e("i",{class:R(["fas fa-sliders-h",{"text-secondary":o.category||o.country!=="Nigeria"}]),"aria-hidden":"true"},null,2)]),_:1})],32)])])])])]),o.keyword.trim()==""?(c(),g("div",Me,[...s[12]||(s[12]=[e("div",{class:"col-sm-6 col-md-4"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:be,alt:"Donner",class:"img-fluid shadow border-radius-lg"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/stories.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-foreground mb-2 text-sm"}," Make Impact "),e("a",{href:"javascript:;"},[e("h5",{class:"text-foreground"}," Create Successful Experiences ")]),e("p",{class:"text-foreground/80"},[l(" “We need ₦300,000 to buy 15 computers for our after-school lab” says far more than “We are improving education.” "),e("br"),l(" Clarify your goals with "),e("span",{class:"text-success"},"Donner.")]),e("a",{href:"/raisers/start",target:"_blank",class:"btn text-success btn-sm border border-success/20 bg-background"}," Start Raising ")])])],-1),e("div",{class:"col-sm-6 col-md-4"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:_e,alt:"Donner",class:"img-fluid shadow border-radius-lg"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/raisers.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-foreground mb-2 text-sm"}," For Fundraising "),e("a",{href:"https://blog.donner.africa/category/raisers",target:"_blank"},[e("h5",{class:"text-foreground"}," See Our Best Tips ")]),e("p",{class:"text-foreground/80"}," Organizations with transparent financial reporting enjoy more support + retention rates, while some donations may be tax-deductible. "),e("a",{href:"https://blog.donner.africa/category/raisers",target:"_blank",class:"btn text-success btn-sm border border-success/20 bg-background"}," Learn More ")])])],-1),e("div",{class:"col-sm-12 col-md-4 d-none d-md-block"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:F,alt:"Donner",class:"img-fluid shadow border-radius-lg rotating-hue"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/banner.placeholder.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-foreground mb-2 text-sm"}," Support Women Empowerment "),e("a",{href:"https://blog.donner.africa/donners-future-empowering-women-together",target:"_blank"},[e("h5",{class:"text-foreground"}," Community Growth & Our Future ")]),e("p",{class:"text-foreground/80"}," We believe that when women succeed, everyone around them wins. Imagine if all the smart ideas and hard work of women were given the chance to grow. "),e("a",{href:"https://blog.donner.africa/donners-future-empowering-women-together/",target:"_blank",class:"btn text-success btn-sm border border-success/20 bg-background"}," Learn More ")])])],-1)])])):o.raisers.length>0?(c(),g("div",ze,[(c(!0),g(D,null,C(o.raisers,t=>(c(),g("div",{class:"col-sm-6 col-lg-4 col-xxl-3 mb-lg-0 my-5 highlight-on-hover h-[100%]",key:t.id},[a(_,{to:`/raisers/${t.urlPath}`,class:"card border border-border shadow-none h-[100%] bg-card"},{default:r(()=>[e("div",Be,[e("div",Re,[e("img",{src:F,onLoadOnce:Xe=>d.resolveImage(t.id,t.bannerImage),ref_for:!0,ref:`raiser${t.id}banner`,class:"img-fluid rounded-3",style:{border:"solid var(--border) 2px",filter:"grayscale(1)","border-width":"1px 2px 3px 2px"}},null,40,Ee)])]),e("div",Le,[a(_,{to:`/raisers/${t.urlPath}`,class:"card-title d-block text-foreground text-truncate text-wrap font-weight-bold",style:{"font-size":"1rem",height:"55px !important"}},{default:r(()=>[l(p(t.title),1)]),_:2},1032,["to"]),e("p",Ne,[s[13]||(s[13]=l(" by ",-1)),e("span",Ve,p(t.organizerName),1)]),e("div",Te,[e("div",Ie,[e("div",Ae,[e("div",{class:"progress-bar bg-gradient-primary position-absolute",style:te([{top:"1px",height:"3px",transition:"width 5s cubic-bezier(.68,-0.55,.27,1.55)"},`width: ${t.raisedAmount*100/t.goal}%`])},null,4)])]),e("div",Pe,[e("div",Oe,[s[14]||(s[14]=e("span",null,"Raised ",-1)),e("span",Ge," ₦"+p(d.formatAmount(t.raisedAmount||0)),1)]),e("div",He,[s[15]||(s[15]=e("span",null,"Goal: ",-1)),e("span",We," ₦"+p(d.formatAmount(t.goal||0)),1)])])])])]),_:2},1032,["to"])]))),128)),o.showSeeMoreButton?(c(),g("form",{key:0,class:"col-12 text-center mt-5 d-block",onSubmit:s[5]||(s[5]=S(t=>d.search(!0),["prevent"]))},[e("label",$e," Showing "+p(o.raisers.length)+" of "+p(d.displayedAmount)+" raisers ",1),s[17]||(s[17]=e("br",null,null,-1)),a(L,{loading:o.searching,type:"outline-secondary",nativeType:"submit",class:"btn btn-outline-secondary text-bolder"},{default:r(()=>[...s[16]||(s[16]=[l(" See More ",-1)])]),_:1},8,["loading"])],32)):oe("",!0)])):o.searching?(c(),g("div",je,[...s[18]||(s[18]=[e("div",{class:"col-sm-6 col-md-8 text-center position-relative mt-6 rotating-hue"},[e("img",{src:M,alt:"No Raisers Found"})],-1),e("div",{class:"col-sm-6 col-md-4 text-secondary ms-sm-n4 h1 my-12"}," Searching Raisers... ",-1)])])):(c(),g("div",Ue,[...s[19]||(s[19]=[e("div",{class:"col-sm-6 col-md-8 text-center position-relative mt-6"},[e("img",{src:M,alt:"No Raisers Found"})],-1),e("div",{class:"col-sm-6 col-md-4 text-secondary ms-sm-n4 h1 my-12"}," No Raisers Found ",-1)])]))])])])]),a(P,{open:o.showFilterModal,"onUpdate:open":s[8]||(s[8]=t=>o.showFilterModal=t)},{default:r(()=>[a(A,{class:"sm:max-w-[425px]"},{default:r(()=>[a(T,{class:"text-start"},{default:r(()=>[a(N,null,{default:r(()=>[...s[20]||(s[20]=[l("Filter Raisers",-1)])]),_:1}),a(V,null,{default:r(()=>[...s[21]||(s[21]=[l(" Narrow down your search results ",-1)])]),_:1})]),_:1}),e("div",qe,[e("div",Je,[a(y,null,{default:r(()=>[...s[22]||(s[22]=[l("Category",-1)])]),_:1}),a(k,{modelValue:o.category,"onUpdate:modelValue":s[6]||(s[6]=t=>o.category=t)},{default:r(()=>[a(x,{class:"bg-background border-border"},{default:r(()=>[a(v,{placeholder:"All Categories"})]),_:1}),a(w,null,{default:r(()=>[a(h,{value:"all"},{default:r(()=>[...s[23]||(s[23]=[l(" All Categories ",-1)])]),_:1}),(c(!0),g(D,null,C(o.categories,t=>(c(),b(h,{key:t.name,value:t.name},{default:r(()=>[l(p(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",Ke,[a(y,null,{default:r(()=>[...s[24]||(s[24]=[l("Country",-1)])]),_:1}),a(k,{modelValue:o.country,"onUpdate:modelValue":s[7]||(s[7]=t=>o.country=t)},{default:r(()=>[a(x,{class:"bg-background border-border"},{default:r(()=>[a(v,{placeholder:"Select Country"})]),_:1}),a(w,null,{default:r(()=>[a(h,{value:"Nigeria"},{default:r(()=>[...s[25]||(s[25]=[l("Nigeria",-1)])]),_:1}),a(h,{value:"all"},{default:r(()=>[...s[26]||(s[26]=[l("All Countries",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a(I,{class:"text-center flex gap-3"},{default:r(()=>[a(f,{class:"border-0 text-secondary",variant:"ghost",onClick:d.resetFilters},{default:r(()=>[...s[27]||(s[27]=[l(" Reset Filters ",-1)])]),_:1},8,["onClick"]),a(f,{class:"border-0 shadow-none bg-success",type:"submit",onClick:d.applyFilter},{default:r(()=>[...s[28]||(s[28]=[l(" Apply Filters ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}const ms=q(ye,[["render",Qe]]);export{ms as default};
