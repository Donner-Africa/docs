import{B as G}from"./BaseButton-e295f265.js";import{D as H,_ as W}from"./PublicLayout-1f23f5f1.js";import{E as z,a as c,f as g,G as B,n as E,u as R,H as $,c as _,w as r,I as j,J as U,l as q,K as J,L as K,M as Q,N as X,O as Y,_ as Z,r as l,b as e,s as S,v as ee,x as te,d as a,e as n,F as D,g as C,t as p,P as se,h as oe}from"./index-f692fab2.js";import{_ as re,a as ae,b as le,c as ne,d as ie}from"./SelectValue.vue_vue_type_script_setup_true_lang-b7424803.js";import{_ as de,a as ce}from"./SelectLabel.vue_vue_type_script_setup_true_lang-6add78ee.js";import{_ as me}from"./Label.vue_vue_type_script_setup_true_lang-6b4d0790.js";import{F as ue}from"./FundRaiserService-7e8dc931.js";import{C as ge}from"./ConfigurationService-0bbd3fd3.js";import{f as pe}from"./FormUtility-a2bc7d0b.js";import{_ as F}from"./banner.placeholder-34b9648c.js";import"./logo-f32e4fd3.js";import"./NavigationStore-8bf18187.js";import"./ohash.D__AXeF1-ed854321.js";const fe=z({__name:"DialogFooter",props:{class:{}},setup(i){const t=i;return(m,u)=>(c(),g("div",{class:E(R($)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[B(m.$slots,"default")],2))}}),he=z({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const t=i;return(m,u)=>(c(),_(R(H),j(U(t)),{default:r(()=>[B(m.$slots,"default")]),_:3},16))}}),_e="/img/backgrounds/stories.png",be="/img/backgrounds/raisers.png",M="/img/shapes/raiser-not-found.svg",ye={components:{BaseButton:G,PublicLayout:W,Dialog:J,DialogContent:K,DialogDescription:Q,DialogFooter:fe,DialogHeader:X,DialogTitle:Y,DialogTrigger:he,Select:re,SelectContent:ae,SelectGroup:de,SelectItem:le,SelectLabel:ce,SelectTrigger:ne,SelectValue:ie,Button:Z,Label:me},data(){return{keyword:"",searching:!1,raisers:[],page:0,size:12,totalElements:1,seeingMore:!0,showSeeMoreButton:!1,showFilterModal:!1,category:"",country:"Nigeria",categories:[]}},computed:{displayedAmount(){return this.totalElements>1e3?"1000+":this.totalElements>500?"500+":this.totalElements>250?"250+":this.totalElements>100?"100+":this.totalElements>50?"50+":this.totalElements>10?"10+":this.totalElements>5?"5+":this.totalElements}},methods:{formatAmount:pe,resolveImage(i,t){if(t){var m=new Image;m.onload=()=>{const u=this.$refs[`raiser${i}banner`][0];u.src=m.src,u.style.filter=" grayscale(0)"},m.src=t}},resetFilters(){this.category="",this.country="Nigeria",this.search(),this.showFilterModal=!1},applyFilter(){this.showFilterModal=!1,this.page=0,this.search()},async search(i){const t=this.keyword.trim();if(t=="")return;this.searching=!0,this.size=4,i&&(this.size=12,this.page+=this.seeingMore?1:0);const m={keyword:`${t}`,size:this.size,page:this.page,category:this.category==="all"?"":this.category,country:this.country==="all"?"":this.country};try{const{content:u,pageable:o,totalElements:d=0,last:f=!1}=await ue.searchFundRaisers(m);this.totalElements=d,i?(this.raisers=this.seeingMore?this.raisers.concat(u):u,this.seeingMore=!0):(this.raisers=u,this.seeingMore=!1),this.showSeeMoreButton=!f}finally{this.searching=!1}}},async mounted(){this.categories=ge.get("fundRaiserCategories")||[],await this.search(),this.searchCount=0,this.$refs.searchField.focus();const{s:i}=this.$route.query;i&&(this.keyword=i,this.search())}},ve={class:"my-5 pt-6 pt-sm-8 pt-md-9"},xe={class:"container mt-sm-5 mt-3"},we={class:"row"},ke={class:"col-md-12"},Se={class:"row d-block"},De={class:"col-12"},Ce={class:"row position-relative"},Fe={class:"col-md-6"},Me={key:0,class:"row mt-6"},ze={key:1,class:"row"},Be={class:"card-header p-0 mx-3 mt-3 position-relative z-index-1"},Ee={class:"d-block"},Re=["onLoadOnce"],Le={class:"card-body pt-3 rounded-0"},Ne={class:"card-description mb-4 text-truncate",style:{"font-size":".8rem"}},Ve={class:"text-dark"},Te={class:"col-12 align-items-center"},Ie={class:"d-flex position-relative"},Ae={class:"progress mt-2 mb-3 position-relative",style:{height:"2px",width:"100%",overflow:"hidden"}},Pe={class:"name row"},Oe={class:"col-6 text-bolder text-sm"},Ge={class:"text-success text-truncate"},He={class:"col-6 text-bolder text-sm text-end text-truncate d-none"},We={class:"text-success text-truncate"},$e={class:"mb-4 text-sm text-bolder text-underline"},je={key:2,class:"row"},Ue={key:3,class:"row"},qe={class:"grid gap-4 pb-5 pt-3"},Je={class:"grid gap-2"},Ke={class:"grid gap-2"};function Qe(i,t,m,u,o,d){const f=l("Button"),b=l("RouterLink"),L=l("BaseButton"),N=l("DialogTitle"),V=l("DialogDescription"),T=l("DialogHeader"),y=l("Label"),v=l("SelectValue"),x=l("SelectTrigger"),h=l("SelectItem"),w=l("SelectContent"),k=l("Select"),I=l("DialogFooter"),A=l("DialogContent"),P=l("Dialog"),O=l("PublicLayout");return c(),_(O,null,{default:r(()=>[e("section",ve,[e("div",xe,[e("div",we,[e("div",ke,[e("div",Se,[e("div",De,[e("div",Ce,[e("div",Fe,[e("div",null,[t[10]||(t[10]=e("h1",{class:"pb-1",style:{color:"#141727","font-size":"48px","font-weight":"800"}}," Discover Raisers ",-1)),t[11]||(t[11]=e("h4",{class:"pb-3",style:{"font-size":"18px",color:"#7E7E7E","font-weight":"400"}}," Find campaigns and fundraisers with keywords, location, or title ",-1)),e("form",{class:"input-group border-dark border border-3 mb-3 position-sticky shadow-none",onSubmit:t[4]||(t[4]=S(s=>{o.page=0,o.size=3,d.search()},["prevent"])),style:{background:"#fff"}},[e("span",{class:"bg-transparent input-group-text px-3 border-0",onClick:t[0]||(t[0]=s=>{o.page=0,o.size=3,d.search()})},[...t[9]||(t[9]=[e("i",{class:"fas fa-search","aria-hidden":"true"},null,-1)])]),ee(e("input",{class:"form-control form-control-lg bg-transparent border-0 text-lg",onInput:t[1]||(t[1]=s=>{o.page=0,o.size=3,d.search()}),ref:"searchField",placeholder:"Search raisers","onUpdate:modelValue":t[2]||(t[2]=s=>o.keyword=s),style:{"box-shadow":"none !important"}},null,544),[[te,o.keyword]]),a(f,{variant:"ghost",size:"icon",class:"bg-transparent px-3 me-2 border-0 cursor-pointer transition-colors hover:bg-gray-100 rounded-none h-auto",onClick:t[3]||(t[3]=s=>o.showFilterModal=!0),type:"button"},{default:r(()=>[e("i",{class:E(["fas fa-sliders-h",{"text-secondary":o.category||o.country!=="Nigeria"}]),"aria-hidden":"true"},null,2)]),_:1})],32)])])])])]),o.keyword.trim()==""?(c(),g("div",Me,[...t[12]||(t[12]=[e("div",{class:"col-sm-6 col-md-4"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:_e,alt:"Donner",class:"img-fluid shadow border-radius-lg"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/stories.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-gradient text-dark mb-2 text-sm"}," Make Impact "),e("a",{href:"javascript:;"},[e("h5",null," Create Successful Experiences ")]),e("p",null,[n(" “We need ₦300,000 to buy 15 computers for our after-school lab” says far more than “We are improving education.” "),e("br"),n(" Clarify your goals with "),e("span",{class:"text-success"},"Donner.")]),e("a",{href:"/raisers/start",target:"_blank",class:"btn text-success btn-sm",style:{"background-color":"#fff !important"}}," Start Raising ")])])],-1),e("div",{class:"col-sm-6 col-md-4"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:be,alt:"Donner",class:"img-fluid shadow border-radius-lg"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/raisers.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-gradient text-dark mb-2 text-sm"}," For Fundraising "),e("a",{href:"https://blog.donner.africa/category/raisers",target:"_blank"},[e("h5",null," See Our Best Tips ")]),e("p",null," Organizations with transparent financial reporting enjoy more support + retention rates, while some donations may be tax-deductible. "),e("a",{href:"https://blog.donner.africa/category/raisers",target:"_blank",class:"btn text-success btn-sm",style:{"background-color":"#fff !important"}}," Learn More ")])])],-1),e("div",{class:"col-sm-12 col-md-4 d-none d-md-block"},[e("div",{class:"card card-blog card-plain"},[e("div",{class:"position-relative"},[e("a",{class:"d-block blur-shadow-image"},[e("img",{src:F,alt:"Donner",class:"img-fluid shadow border-radius-lg rotating-hue"})]),e("div",{class:"colored-shadow",style:{"background-image":"url('/img/backgrounds/banner.placeholder.png')"}})]),e("div",{class:"card-body px-1 pt-3"},[e("p",{class:"text-gradient text-dark mb-2 text-sm"}," Support Women Empowerment "),e("a",{href:"https://blog.donner.africa/donners-future-empowering-women-together",target:"_blank"},[e("h5",null," Community Growth & Our Future ")]),e("p",null," We believe that when women succeed, everyone around them wins. Imagine if all the smart ideas and hard work of women were given the chance to grow. "),e("a",{href:"https://blog.donner.africa/donners-future-empowering-women-together/",target:"_blank",class:"btn text-success btn-sm",style:{"background-color":"#fff !important"}}," Learn More ")])])],-1)])])):o.raisers.length>0?(c(),g("div",ze,[(c(!0),g(D,null,C(o.raisers,s=>(c(),g("div",{class:"col-sm-6 col-lg-4 col-xxl-3 mb-lg-0 my-5 highlight-on-hover h-[100%]",key:s.id},[a(b,{to:`/raisers/${s.urlPath}`,class:"card border border-light shadow-none h-[100%]"},{default:r(()=>[e("div",Be,[e("div",Ee,[e("img",{src:F,onLoadOnce:Xe=>d.resolveImage(s.id,s.bannerImage),ref_for:!0,ref:`raiser${s.id}banner`,class:"img-fluid rounded-3",style:{border:"solid #fff 2px",filter:"grayscale(1)","border-width":"1px 2px 3px 2px"}},null,40,Re)])]),e("div",Le,[a(b,{to:`/raisers/${s.urlPath}`,class:"card-title d-block text-darker text-truncate text-wrap font-weight-bold",style:{"font-size":"1rem",height:"55px !important"}},{default:r(()=>[n(p(s.title),1)]),_:2},1032,["to"]),e("p",Ne,[t[13]||(t[13]=n(" by ",-1)),e("span",Ve,p(s.organizerName),1)]),e("div",Te,[e("div",Ie,[e("div",Ae,[e("div",{class:"progress-bar bg-gradient-primary position-absolute",style:se([{top:"1px",height:"3px",transition:"width 5s cubic-bezier(.68,-0.55,.27,1.55)"},`width: ${s.raisedAmount*100/s.goal}%`])},null,4)])]),e("div",Pe,[e("div",Oe,[t[14]||(t[14]=e("span",null,"Raised ",-1)),e("span",Ge," ₦"+p(d.formatAmount(s.raisedAmount||0)),1)]),e("div",He,[t[15]||(t[15]=e("span",null,"Goal: ",-1)),e("span",We," ₦"+p(d.formatAmount(s.goal||0)),1)])])])])]),_:2},1032,["to"])]))),128)),o.showSeeMoreButton?(c(),g("form",{key:0,class:"col-12 text-center mt-5 d-block",onSubmit:t[5]||(t[5]=S(s=>d.search(!0),["prevent"]))},[e("label",$e," Showing "+p(o.raisers.length)+" of "+p(d.displayedAmount)+" raisers ",1),t[17]||(t[17]=e("br",null,null,-1)),a(L,{loading:o.searching,type:"outline-secondary",nativeType:"submit",class:"btn btn-outline-secondary text-bolder"},{default:r(()=>[...t[16]||(t[16]=[n(" See More ",-1)])]),_:1},8,["loading"])],32)):oe("",!0)])):o.searching?(c(),g("div",je,[...t[18]||(t[18]=[e("div",{class:"col-sm-6 col-md-8 text-center position-relative mt-6 rotating-hue"},[e("img",{src:M,alt:"No Raisers Found"})],-1),e("div",{class:"col-sm-6 col-md-4 text-secondary ms-sm-n4 h1 my-12"}," Searching Raisers... ",-1)])])):(c(),g("div",Ue,[...t[19]||(t[19]=[e("div",{class:"col-sm-6 col-md-8 text-center position-relative mt-6"},[e("img",{src:M,alt:"No Raisers Found"})],-1),e("div",{class:"col-sm-6 col-md-4 text-secondary ms-sm-n4 h1 my-12"}," No Raisers Found ",-1)])]))])])])]),a(P,{open:o.showFilterModal,"onUpdate:open":t[8]||(t[8]=s=>o.showFilterModal=s)},{default:r(()=>[a(A,{class:"sm:max-w-[425px]"},{default:r(()=>[a(T,{class:"text-start"},{default:r(()=>[a(N,null,{default:r(()=>[...t[20]||(t[20]=[n("Filter Raisers",-1)])]),_:1}),a(V,null,{default:r(()=>[...t[21]||(t[21]=[n(" Narrow down your search results ",-1)])]),_:1})]),_:1}),e("div",qe,[e("div",Je,[a(y,null,{default:r(()=>[...t[22]||(t[22]=[n("Category",-1)])]),_:1}),a(k,{modelValue:o.category,"onUpdate:modelValue":t[6]||(t[6]=s=>o.category=s)},{default:r(()=>[a(x,{class:"bg-[#fff]",style:{border:"solid 1px #eee !important"}},{default:r(()=>[a(v,{placeholder:"All Categories"})]),_:1}),a(w,null,{default:r(()=>[a(h,{value:"all"},{default:r(()=>[...t[23]||(t[23]=[n(" All Categories ",-1)])]),_:1}),(c(!0),g(D,null,C(o.categories,s=>(c(),_(h,{key:s.name,value:s.name},{default:r(()=>[n(p(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",Ke,[a(y,null,{default:r(()=>[...t[24]||(t[24]=[n("Country",-1)])]),_:1}),a(k,{modelValue:o.country,"onUpdate:modelValue":t[7]||(t[7]=s=>o.country=s)},{default:r(()=>[a(x,{class:"bg-[#fff]",style:{border:"solid 1px #eee !important"}},{default:r(()=>[a(v,{placeholder:"Select Country"})]),_:1}),a(w,null,{default:r(()=>[a(h,{value:"Nigeria"},{default:r(()=>[...t[25]||(t[25]=[n("Nigeria",-1)])]),_:1}),a(h,{value:"all"},{default:r(()=>[...t[26]||(t[26]=[n("All Countries",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a(I,{class:"text-center flex gap-3"},{default:r(()=>[a(f,{class:"border-0 text-secondary",variant:"ghost",onClick:d.resetFilters},{default:r(()=>[...t[27]||(t[27]=[n(" Reset Filters ",-1)])]),_:1},8,["onClick"]),a(f,{class:"border-0 shadow-none bg-success",type:"submit",onClick:d.applyFilter},{default:r(()=>[...t[28]||(t[28]=[n(" Apply Filters ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}const mt=q(ye,[["render",Qe]]);export{mt as default};
