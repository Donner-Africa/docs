import{l as r,o as d,A as l,S as n,U as v,a as u,f as w,m as h,q as f}from"./index-7b07f307.js";const m={class:"h-[100vh] flex items-center justify-center relative overflow-hidden"},p={__name:"LinkedIn",setup(_){return d(async()=>{await new Promise(a=>setTimeout(a,300));try{const t=new URLSearchParams(window.location.search).get("code");let s=null;try{const i=await fetch("https://ipapi.co/json/");if(i.ok){const o=await i.json();s=`${o.city}, ${o.region}, ${o.country}`}}catch{}const c={provider:"linkedin",accessToken:t,location:s},{data:e}=await l.createSession(c);e!=null&&e.deviceToken?(await n.IndexedDB.set("DonnerDB","UserStore","authorization",{token:e.deviceToken}),n.LocalStorage.set("DA_IS_AUTHORITY",!0),await n.IndexedDB.delete("DonnerDB","UserStore","preAuthorization"),e.user&&v.set("user",{...e.user}),window.location.href="/"):(console.error("No deviceToken in session response"),window.location.href="/account/login?error=session")}catch(a){console.error("LinkedIn sign-in failed",a),window.location.href="/account/login?error=linkedin"}}),(a,t)=>(u(),w("div",m,[...t[0]||(t[0]=[h('<div class="absolute inset-0 bg-slate-950/10 animate-fade-in" data-v-b865ac16></div><div class="container mx-auto relative z-10" data-v-b865ac16><div class="max-w-lg mx-auto" data-v-b865ac16><div class="bg-white shadow-xl rounded-2xl p-5 flex flex-col items-center text-center animate-slide-up" data-v-b865ac16><div class="w-24 h-24 rounded-full bg-white shadow ring-1 ring-slate-200 flex items-center justify-center mb-6" data-v-b865ac16><img src="'+f+'" class="w-16 h-16" alt="App Icon" data-v-b865ac16></div><h2 class="text-2xl font-semibold mb-2" data-v-b865ac16>Signing you in with LinkedIn</h2><p class="text-gray-600 mb-6" data-v-b865ac16> Please wait while we authenticate you with LinkedIn. </p><div class="flex justify-center" data-v-b865ac16><div class="loader" data-v-b865ac16></div></div></div></div></div>',2)])]))}},x=r(p,[["__scopeId","data-v-b865ac16"]]);export{x as default};
