import{F as p}from"./FundRaiserService-c9dfbc5b.js";import{l as m,s as h,Q as b,a,f as l,b as t,n as i,d as x,t as u,G as g,h as f,q as w}from"./index-7ab8b32e.js";const y={name:"modal",props:{raiser:{required:!0},show:Boolean,showClose:{type:Boolean,default:!0},type:{type:String,default:"mini",validator(n){return["","notice","mini"].indexOf(n)!==-1},description:'Modal type (notice|mini|"") '},modalClasses:{type:[Object,String],description:"Modal dialog css classes"},modalContentClasses:{type:[Object,String],description:"Modal dialog content css classes"},gradient:{type:String,description:"Modal gradient type (error, primary etc)"},headerClasses:{type:[Object,String],description:"Modal Header css classes"},bodyClasses:{type:[Object,String],description:"Modal Body css classes"},footerClasses:{type:[Object,String],description:"Modal Footer css classes"},animationDuration:{type:Number,default:500,description:"Modal transition duration"}},data(){return{shareError:"",copied:!1}},computed:{title(){return this.raiser.title},url(){return`https://donner.africa/r/${this.raiser.reference}`},shortStory(){return this.raiser.summary}},methods:{closeModal(){this.$emit("update:show",!1),this.$emit("close")},generateMessage(){return`Hi,

I'd be very grateful for your donation to this fundraiser on Donner.

*${this.title}*

${this.shortStory}â€¦

Read more here ${this.url}

Please share this message with your network to help our raiser reach its goal!`},copyUrl(){this.copied=!0;const n=document.createElement("textarea");n.value=`${this.url} 

${this.title}
`,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch{}document.body.removeChild(n),setTimeout(()=>{this.copied=!1},7e3)},shareOnWhatsApp(){const n=this.generateMessage(),e=`https://wa.me/?text=${encodeURIComponent(n)}`;window.open(e,"_blank")},shareOnFacebook(){const n=this.generateMessage(),e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.url)}&quote=${encodeURIComponent(n)}`;window.open(e,"_blank")},shareOnX(){const n=this.generateMessage(),e=`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}`;window.open(e,"_blank")},shareOnMessenger(){const n=this.generateMessage(),e=`fb-messenger://share/?link=${encodeURIComponent(this.url)}&app_id=${encodeURIComponent(n)}`;window.open(e,"_blank")},shareOnTelegram(){const n=this.generateMessage(),e=`https://telegram.me/share/url?url=${encodeURIComponent(this.url)}&text=${encodeURIComponent(n)}`;window.open(e,"_blank")},shareOnLinkedIn(){this.generateMessage();const n=`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(this.url)}&title=${encodeURIComponent(this.title)}&summary=${encodeURIComponent(this.shortStory)}&source=LinkedIn`;window.open(n,"_blank")},handleImageOutput(n){const e=document.createElement("a"),r=document.createElement("img");r.src="data:image/png;base64,"+n,r.style.display="block",r.style.margin="100px auto 0",e.appendChild(r),e.download="generated_image.png",e.href="data:image/png;base64,"+n,window.open().document.body.appendChild(e)},async shareLink(){const n={title:"Donner Fundraiser",text:`${this.title}`,url:`${this.url}`};try{window.navigator.share(n)}catch{this.copyUrl()}},downloadFlyer(n){p.downloadFlyer(this.raiser.reference,`${n}`)}},watch:{show(n){let e=document.body.classList;n?e.add("modal-open"):e.remove("modal-open")}}},v=["aria-hidden"],k={class:"card bg-white/60 backdrop-blur-md shadow-xs p-3 modal-fade-in rounded-3 mx-1"},C={class:"mx-1 rounded-3 row bg-transparent",style:{overflow:"hidden"}},S={class:"card-header backdrop-blur-md z-index-3 position-relative shadow-sm rounded-",style:{overflow:"hidden"}},M={class:"row position-relative z-index-3"},F={class:"col-12 mb-4",style:{"border-bottom":"0.4px solid #fff"}},L={class:"col-12"},O=["value"],z=["value"],I={key:0,class:"fa fa-check-circle text-success",style:{"font-size":"20px"}},U={key:1,class:"fa fa-share-alt"},_={class:"col-md-12 bg-transparent position-relative p-0 mt-0 rounded-",style:{"border-radius":"0 0 0.75rem 0.75rem",overflow:"hidden"}},R={class:"w-[100%] border-0 py-3 px-4 m-0 d-none"},T={class:"row mx-md-1 position-relative z-index-3 pt-3 pb-2",style:{height:"fit-content"}},E={class:"col-4 col-md-2 px-2 text-center"},H={class:"col-4 col-md-2 px-2 text-center"},B={class:"col-4 col-md-2 px-2 text-center"},j={class:"col-4 col-md-2 px-2 text-center"},D={class:"col-4 col-md-2 px-2 text-center"},A={class:"col-4 col-md-2 px-2 text-center"},N={class:"social-share bg-transparent pt-1 pb-4 px-4 row z-index-3 position-relative border-0"},V={class:"col-12 z-index-3 position-relative mt-3"},W={class:"row text-center"},X={class:"col-2 px-2 text-center"},q={class:"col-2 px-2 text-center"},Z={class:"col-2 px-2 text-center"},G={class:"col-2 px-2 text-center"},P={class:"col-2 px-2 text-center"},Q={class:"col-2 px-2 text-center"},J={class:"w-[100%] px-4 backdrop-blur-md bg-white py-3 pt-3 m-0 border-0"},K={class:"row"},Y={class:"col-9"},$={class:"col-3 text-end pe-3"},ee=["href"];function te(n,e,r,c,d,s){return h((a(),l("div",{class:i(["modal backdrop-blur-md fade",[{"show d-block":r.show},{"d-none":!r.show},{"modal-mini":r.type==="mini"}]]),onClick:e[18]||(e[18]=w((...o)=>s.closeModal&&s.closeModal(...o),["self"])),tabindex:"-1",role:"dialog","aria-hidden":!r.show},[t("div",{class:i(["modal-dialog modal-dialog-centered modal-lg",[{"modal-notice":r.type==="notice"},r.modalClasses]])},[t("div",{class:i(["modal-content",[r.gradient?`bg-gradient-${r.gradient}`:"",r.modalContentClasses]])},[t("div",{class:i(["modal-body",r.bodyClasses])},[t("div",k,[t("button",{onClick:e[0]||(e[0]=(...o)=>s.closeModal&&s.closeModal(...o)),class:"position-absolute end-0 me-4 mt-1 btn btn-sm backdrop-blur-md bg-secondary rounded-3 px-2 py-1 rounded-3",style:{"z-index":"1000000"}},[...e[19]||(e[19]=[t("i",{class:"fa fa-times text-white",style:{"font-size":"15px"}},null,-1)])]),t("div",C,[t("div",S,[e[22]||(e[22]=t("div",{class:"mask opacity-3 z-index-0",style:{background:"url(/img/shapes/waves-white.svg)"}},null,-1)),t("div",M,[t("div",F,[t("div",null,[e[20]||(e[20]=t("div",{class:"container-fluid px-0 z-index-3"},[t("h4",{class:"text-dark"},"Share This Fundraiser")],-1)),x(" "+u(d.shareError),1)])]),t("div",L,[t("div",{class:"input-group w-[100%]",onClick:e[4]||(e[4]=(...o)=>s.shareLink&&s.shareLink(...o)),style:{border:"none !important"}},[t("span",{class:"input-group-text px-3 border-0",onClick:e[1]||(e[1]=(...o)=>s.shareLink&&s.shareLink(...o))},[...e[21]||(e[21]=[t("i",{class:"fas fa-link text-success text-lg","aria-hidden":"true"},null,-1)])]),t("input",{class:"form-control form-control-lg text-lg border-0 me-3 px-3 cursor-pointer",readonly:"",onClick:e[2]||(e[2]=(...o)=>s.shareLink&&s.shareLink(...o)),value:s.url,style:{"border-right":"solid 40px #fff !important","border-radius":"0 50px 50px 0 !important"}},null,8,O),t("button",{type:"button",class:"bg-success-light mb-0 text-center px-0 ms-1 text-center",onClick:e[3]||(e[3]=(...o)=>s.shareLink&&s.shareLink(...o)),value:s.url,style:{"border-radius":"50%",border:"solid 0",width:"50px",height:"50px"}},[d.copied?(a(),l("i",I)):(a(),l("i",U))],8,z)])])])]),t("div",_,[t("div",R,[t("div",T,[t("div",E,[t("button",{onClick:e[5]||(e[5]=o=>s.downloadFlyer("empowerment")),title:"Share an Empowerment Flyer",class:"btn btn-white rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important",border:"10px solid #fff",background:"linear-gradient(310deg, #ff20d8, #c959eb)"}},[...e[23]||(e[23]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-white",style:{"font-size":"40px"}})],-1)])])]),t("div",H,[t("button",{onClick:e[6]||(e[6]=o=>s.downloadFlyer("intervention")),title:"Share an Intervention Flyer",class:"btn btn-white bg-gradient-warning rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important",border:"10px solid #fff"}},[...e[24]||(e[24]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-white",style:{"font-size":"40px"}})],-1)])])]),t("div",B,[t("button",{onClick:e[7]||(e[7]=o=>s.downloadFlyer("corporate")),title:"Share a Corporate Flyer",class:"btn btn-white bg-gradient-info rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important",border:"10px solid #fff"}},[...e[25]||(e[25]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-white",style:{"font-size":"40px"}})],-1)])])]),t("div",j,[t("button",{onClick:e[8]||(e[8]=o=>s.downloadFlyer("emergency")),title:"Share an Emergency Flyer",class:"btn btn-white bg-gradient-error rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important",border:"10px solid #fff"}},[...e[26]||(e[26]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-white",style:{"font-size":"40px"}})],-1)])])]),t("div",D,[t("button",{onClick:e[9]||(e[9]=o=>s.downloadFlyer("regular")),title:"Share a Raiser Flyer",class:"btn btn-white rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important"}},[...e[27]||(e[27]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-success",style:{"font-size":"40px"}})],-1)])])]),t("div",A,[t("button",{onClick:e[10]||(e[10]=o=>s.downloadFlyer("venture")),title:"Share a Corporate Flyer",class:"btn btn-white bg-gradient-dark rounded-circle text-lg p-0",style:{height:"80px !important",width:"80px !important",border:"10px solid #fff"}},[...e[28]||(e[28]=[t("span",{class:""},[t("i",{class:"fa fa-file-image text-white",style:{"font-size":"40px"}})],-1)])])])])]),t("div",N,[t("div",V,[t("div",W,[t("div",X,[t("button",{onClick:e[11]||(e[11]=(...o)=>s.shareOnMessenger&&s.shareOnMessenger(...o)),title:"Share on Messenger",class:"btn btn-white rounded-circle w-[100%] mb-0 p-0",style:{height:"50px !important",width:"50px !important",border:"1px solid purple"}},[...e[29]||(e[29]=[t("span",{class:""},[t("i",{class:"far fa-facebook-messenger text-info",style:{"font-size":"30px","background-image":"linear-gradient(310deg, #7928ca, #2152ff)"}})],-1)])])]),t("div",q,[t("button",{onClick:e[12]||(e[12]=(...o)=>s.shareOnFacebook&&s.shareOnFacebook(...o)),title:"Share on Facebook",class:"btn btn-white rounded-circle text-lg mb-0 p-0",style:{height:"50px !important",width:"50px !important",border:"1px solid royalblue"}},[...e[30]||(e[30]=[t("span",{class:""},[t("i",{class:"far fa-facebook-f text-info",style:{"font-size":"25px"}})],-1)])])]),t("div",Z,[t("button",{onClick:e[13]||(e[13]=(...o)=>s.shareOnLinkedIn&&s.shareOnLinkedIn(...o)),title:"Share on LinkedIn",class:"btn btn-white rounded-circle text-lg mb-0 p-0",style:{height:"50px !important",width:"50px !important",border:"1px solid #2152ff"}},[...e[31]||(e[31]=[t("span",{class:""},[t("i",{class:"far fa-linkedin-in",style:{"font-size":"25px","background-image":"linear-gradient(310deg, rgba(0, 65, 130, 0.9), #2152ff)"}})],-1)])])]),t("div",G,[t("button",{onClick:e[14]||(e[14]=(...o)=>s.shareOnTelegram&&s.shareOnTelegram(...o)),title:"Share on Telegram",class:"btn btn-white border border-info rounded-circle text-lg mb-0 p-0 pe-1",style:{height:"50px !important",width:"50px !important"}},[...e[32]||(e[32]=[t("span",{class:""},[t("i",{class:"far fa-telegram-plane",style:{"font-size":"30px","background-image":"linear-gradient(310deg, #2481cc, #64b5ef)"}})],-1)])])]),t("div",P,[t("button",{onClick:e[15]||(e[15]=(...o)=>s.shareOnWhatsApp&&s.shareOnWhatsApp(...o)),title:"Share on Whatsapp",class:"btn btn-white border border-success rounded-circle text-lg mb-0 p-0",style:{height:"50px !important",width:"50px !important"}},[...e[33]||(e[33]=[t("span",{class:""},[t("i",{class:"far fa-whatsapp text-success",style:{"font-size":"30px"}})],-1)])])]),t("div",Q,[t("button",{onClick:e[16]||(e[16]=(...o)=>s.shareOnX&&s.shareOnX(...o)),title:"Share on Twitter (Now X)",class:"btn btn-white border border-dark rounded-circle text-lg mb-0 p-0",style:{height:"50px !important",width:"50px !important"}},[...e[34]||(e[34]=[t("span",{class:""},[t("svg",{width:"20",height:"20",viewBox:"0 0 18 18",fill:"#010101",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M0.367188 0L7.46289 10.1406L0.740234 18H3.38086L8.64453 11.8301L12.9609 18H19.8711L12.4492 7.375L18.7402 0H16.1406L11.2715 5.6875L7.29883 0H0.367188ZM4.20703 2H6.25586L16.0332 16H14.002L4.20703 2Z",fill:"#010101"})])],-1)])])])])])]),t("div",J,[t("div",K,[t("div",Y,[t("span",{onClick:e[17]||(e[17]=o=>s.downloadFlyer(r.raiser.theme)),class:"underline cursor-pointer h4 text-bold text-secondary"},"Download Flyer ")]),t("div",$,[t("a",{href:`mailto:?subject=${encodeURIComponent(this.title)}&body=${encodeURIComponent(s.generateMessage())}`,class:"btn btn-sm bg-secondary text-center mx-2 px-0 mb-0 mt-n1",style:{"border-radius":"50px",width:"50px"}},[...e[35]||(e[35]=[t("i",{class:"fa fa-envelope text-white",style:{"font-size":"20px"}},null,-1)])],8,ee)])])])])])])],2),n.$slots.footer?(a(),l("div",{key:0,class:i(["modal-footer",r.footerClasses])},[g(n.$slots,"footer",{},void 0,!0)],2)):f("",!0)],2)],2)],10,v)),[[b,r.show]])}const oe=m(y,[["render",te],["__scopeId","data-v-57d1586f"]]);export{oe as S};
