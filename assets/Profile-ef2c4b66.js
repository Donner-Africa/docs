/* empty css                         */import{R as I,S as V,I as E}from"./ImageUploadService-89ef3525.js";import{B as F}from"./BaseNav-7d3318ae.js";import{B as D}from"./BaseFooter-5dc7701f.js";import{B as z}from"./BaseButton-c6c5ab63.js";import{F as B}from"./FormMessage-3d1df468.js";import{M as L}from"./Modal-9e207090.js";import{l as R,p as g,U as y,A as T,r as S,a as d,f as c,b as t,t as k,s as p,y as C,q as h,v,m as j,e as u,w as b,d as f,n as A,h as w,F as U,g as M}from"./index-7ab8b32e.js";import"./NavigationStore-5ae23ca1.js";import"./logo-f32e4fd3.js";const q="/img/shapes/avatar.webp";const W={components:{BaseNav:F,BaseFooter:D,BaseButton:z,FormMessage:B,Modal:L,VuePictureCropper:I},data(){return{bio:{bvn:"",phone:"",email:"",newEmail:"",lastName:"",firstName:"",bvnConsent:!1,verifications:[],verificationCode:[],completedVerifications:[],verificationsCount:0,completedVerificationCount:0,emailVerificationCodeResendWaitTime:0},croppingImage:!1,deactivationConfirmation:!0,emailChangeRequest:{},modalAction:"",notificationSettings:{loading:[],login:!1,events:!1,updates:!1,newsletters:!1},passwordSettings:{loading:!1,oldPassword:"",newPassword:"",confirmPassword:""},photoUrl:"",picture:"",savingImage:!1,savingModalFormData:!1,showImageCropper:!1,showModal:!1,showProfilePhotoModal:!1,updateFormMessage:{},passcode:[],passcodeConfirm:[],passcodeSettings:{loading:!1},showPasscodeModal:!1,passcodeFormMessage:{},currentPassword:""}},computed:{bioFormDisabled(){return this.bio.savingFormData?!0:void 0},isPasscodeValid(){const n=this.passcode.slice(1).join(""),s=this.passcodeConfirm.slice(1).join("");return n.length===4&&s.length===4&&n===s}},methods:{openImageSelectionDialog(){this.$refs.imageFileUploadInput.click()},async openImageCropper(n){const s=g();this.picture=!1,this.croppedImage="";const r=n.target.files[0],l=new FileReader;l.onload=()=>{this.picture=String(l.result),this.showImageCropper=!0,n.target.value=""};try{await l.readAsDataURL(r)}catch(e){s.toast({message:e.message||"An error was encountered while loading the image.",type:"error",duration:5e3})}},async cropImage(){const n=g();if(V){this.croppingImage=!0;try{const s=await V.getFile(),r=await E.uploadProfileImage(s);this.photoUrl=r.secure_url,this.showImageCropper=!1,this.showProfilePhotoModal=!0}catch(s){n.toast({message:s.message||"Cropping the image failed",type:"error",duration:5e3})}this.croppingImage=!1}},async saveCroppedImage(){this.savingImage=!0;const n=g();try{const s=await y.savePhotoUrl(this.photoUrl);await this.refreshUser(),n.toast({message:"We've saved the image.<br/>Let's refresh your profile.",type:"success",duration:5e3}),setTimeout(()=>{this.closeProfilePhotoModal();const r=window.location;window.location=r},3500)}catch(s){n.toast({message:s.message||"We could not save the image.<br/>Check your network and try again.",type:"error",duration:5e3})}this.savingImage=!1},closeProfilePhotoModal(){this.showProfilePhotoModal=!1,this.picture="",this.showImageCropper=!1,this.photoUrl=this.bio.photoUrl},openUpdateModal(n){this.showModal=!0,this.modalAction=n},async refreshUser(){this.loadingSettings=!0;const n=g();try{const{data:s}=await y.refreshUser(),{email:r}=s,{data:l}=await y.getVerifications();let e=0;const i=[];let m=0;for(const x of Object.keys(l))l[x]&&(i.push(x.toUpperCase()),m++),e++;this.bio={...this.bio,...s,newEmail:r,verifications:l,verificationsCount:e,completedVerificationCount:m,completedVerifications:i},this.photoUrl=this.bio.photoUrl}catch(s){n.toast({message:s.message,type:"error"})}this.loadingSettings=!1},async refreshNotificationSubscriptions(){const n=g();try{const{data:s}=await y.getNotificationSubscriptions();this.notificationSettings={...this.notificationSettings,...s}}catch(s){n.toast({message:s.message,type:"error"})}},async savePasswordSettings(){this.passwordSettings.loading=!0;const n=`${this.passwordSettings.oldPassword}`,s=`${this.passwordSettings.newPassword}`,r=`${this.passwordSettings.confirmPassword}`;g();try{if(r!==s)throw new Error("Passwords don't match");const l={oldPassword:n,newPassword:s};await y.replacePassword(l),g().toast({type:"success",message:"Password settings updated",title:"Account"}),this.passwordSettings={oldPassword:"",newPassword:"",confirmPassword:""}}catch(l){g().toast(l)}this.passwordSettings.loading=!1},async updateNotificationSetting(n,s){this.notificationSettings.loading.push(n);const r={};r[n]=s;const l=g();try{const{data:i,message:m,flag:x}=await y.updateNotificationSettings(r);this.notificationSettings={...this.notificationSettings,...i},l.toast({message:m,type:x})}catch(i){l.toast({message:i.message,type:"error"})}const e=this.notificationSettings.loading.indexOf(n);this.notificationSettings.loading.splice(e,1)},async updateName(){this.savingModalFormData=!0;const n=g();try{const{message:s,flag:r,data:l}=await y.saveUser({firstName:`${this.bio.firstName}`,lastName:`${this.bio.lastName}`});this.bio={...this.bio,...l},n.toast({message:s,type:r})}catch(s){n.toast({message:s.message})}this.showModal=!1,this.savingModalFormData=!1},async updateEmail(){this.savingModalFormData=!0;const n=g();try{const{message:s,flag:r,data:l}=await y.requestEmailChange(`${this.bio.newEmail}`);this.emailChangeRequest=l,console.log(l),n.toast({message:s,type:r}),this.modalAction="verifyEmail"}catch(s){n.toast({message:s.message}),this.showModal=!1}this.savingModalFormData=!1},async verifyEmail(){this.savingModalFormData=!0;const n=g();try{const s=this.bio.verificationCode.reduce((i,m)=>`${i}${m}`),r=this.emailChangeRequest.verification.id,{message:l,flag:e}=await y.verifyEmail({code:s,verificationId:r});n.toast({message:l,type:e}),this.refreshUser(),this.showModal=!1}catch(s){n.toast({message:s.message})}this.bio.verificationCode=[],this.savingModalFormData=!1},paste(n,s){const r=(n.clipboardData||window.clipboardData).getData("text").trim();this.bio.verificationCode=["",...r.split("")],r.length===6&&this.verifyEmail()},focusNext(n,s){const r=`${n.target.value}`.trim();if(s===6&&r)return this.verifyEmail();if(r.length===1&&s<6){const l="emailVerificationCode"+(s+1);this.$refs[l][0].focus()}r.length===0&&s>1&&this.$refs["emailVerificationCode"+(s-1)][0].focus(),r.length===0&&s>1&&this.$refs["emailVerificationCode"+(s-1)][0].focus()},pastePasscode(n,s){const r=(n.clipboardData||window.clipboardData).getData("text").trim();if(this[s]=["",...r.split("")].slice(0,5),this[s].length===5){const l=s+"Input4";this.$refs[l]&&this.$refs[l][0]&&this.$refs[l][0].focus()}},focusNextPasscode(n,s,r){const l=`${n.target.value}`.trim(),e=r+"Input";if(l.length===1&&s<4){const i=e+(s+1);this.$refs[i][0].focus()}if(l.length===0&&s>1){const i=e+(s-1);this.$refs[i][0].focus()}},async savePasscode(){this.passcodeSettings.loading=!0,this.passcodeFormMessage={type:"",message:""};try{const n=this.passcode.slice(1).join(""),s=this.passcodeConfirm.slice(1).join("");if(n.length!==4)throw new Error("Passcode must be 4 digits.");if(n!==s)throw new Error("Passcodes do not match.");await T.updatePasscode({passcode:n,password:this.currentPassword}),this.passcodeFormMessage={type:"success",message:"Passcode updated successfully."},this.passcode=[],this.passcodeConfirm=[],this.currentPassword=""}catch(n){this.passcodeFormMessage={type:"error",message:n.message||"Failed to update passcode."}}this.passcodeSettings.loading=!1}},async created(){this.refreshUser(),this.refreshNotificationSubscriptions()}},H={class:""},G={class:"container-fluid"},K={class:"row mb-3"},O={class:"col-md-12 order-2 order-md-0 text-start pt-3"},X={class:"text-foreground",style:{"font-size":"30px"}},Y={class:"row"},J={class:"col-md-8 mb-3 order-md-1 order-2"},Q={class:"card mt-4 shadow-none border border-light backdrop-blur-md",id:"notifications"},Z={class:"card-body pt-0"},$={class:"table-responsive"},ss={class:"table mb-0"},ts={class:"ps-1",colspan:"4"},es={class:"my-auto"},os={class:"text-foreground d-block",style:{"font-size":"20px"}},is={class:"form-check form-switch mb-0 d-flex align-items-center justify-content-center"},ns={class:"d-none"},rs={class:"ps-1",colspan:"4"},ls={class:"my-auto"},as={class:"text-foreground d-block",style:{"font-size":"20px"}},ds={class:"ps-1",colspan:"4"},cs={class:"my-auto"},ps={class:"text-foreground d-block",style:{"font-size":"20px"}},ms={class:"form-check form-switch mb-0 d-flex align-items-center justify-content-center"},us={class:"card mt-4 shadow-none border border-light backdrop-blur-md",id:"notifications"},fs={class:"card-body pt-0"},gs={class:"table-responsive"},bs={class:"table mb-0"},hs={class:"form-check form-switch mt-2 mb-0 d-flex align-items-center justify-content-center"},vs=["disabled"],ws={class:"form-check form-switch mt-2 mb-0 d-flex align-items-center justify-content-center"},ys=["disabled"],xs={class:"form-check form-switch mt-2 mb-0 d-flex align-items-center justify-content-center"},ks=["disabled"],Ss={class:"form-check form-switch mt-2 mb-0 d-flex align-items-center justify-content-center"},Cs=["disabled"],Ps={class:"card shadow-none border-light backdrop-blur-md border mt-4 mb-2",id:"password"},Us={class:"form-group"},Ms={class:"row"},Vs={class:"col-12 col-sm-6"},Ns={class:"form-group"},_s={class:"col-12 col-sm-6"},Is={class:"form-group"},Es={class:"card w-[100%]"},Fs={class:"card-body border-radius-lg bg-gradient-dark p-3"},Ds={class:"col-md-4 order-md-2 order-1"},zs={class:"position-sticky pb-lg-5 pb-3 mt-lg-0 mt-5 ps-2 text-center",style:{top:"100px"}},Bs=["src"],Ls={class:"z-index-3 position-relative border-0 rounded-3 text-center py-3 py-md-5"},Rs={key:0,src:q,class:"mt-0 mb-4 w-[90%] rounded-3",style:{filter:"brightness(1.27) hue-rotate(0deg)"},alt:"."},Ts=["src"],js={class:"card bg-background/95 p-3"},As={class:"mx-1 rounded-3 row backdrop-blur-md",style:{overflow:"hidden",background:"#ffffff5c !important"}},qs={class:"col-12"},Ws={class:"my-4 p-4"},Hs={class:"row"},Gs={class:"col-12"},Ks={class:"row"},Os={class:"row"},Xs={class:"col-12 col-sm-6 p-2"},Ys={class:"form-group mb-3"},Js=["disabled"],Qs={class:"col-12 col-sm-6 p-2"},Zs={class:"form-group mb-3"},$s=["disabled"],st={class:"form-group mb-3"},tt=["disabled"],et={class:"mb-3 row g-2"},ot={class:"form-group"},it=["onUpdate:modelValue","disabled","onInput"],nt={class:"text-lg col-12 mt-2"},rt={class:"form-group mb-3"},lt=["disabled"],at={class:"form-group mb-0"},dt={class:"form-check"},ct={class:"form-group mb-3"},pt=["href"],mt={class:"card bg-transparent shadow-xs p-3 modal-fade-in rounded-3"},ut={class:"mx-1 rounded-3 row backdrop-blur-md",style:{}},ft={class:"col-lg-12 pb-0 pt-4 text-white px-4",style:{"min-height":"400px"}},gt={class:"form-section active"},bt={class:"row"},ht={key:0,class:"col-12"},vt=["src"],wt={key:0,class:"rounded-3 border backdrop-blur-md opacity-8 d-inline-block p-3 mt-5 text-foreground border-border text-lg"},yt=["disabled"],xt={key:1,class:"col-12"},kt={class:"backdrop-blur-md rounded-3 h-[100%] border-bottom-end-radius-0"},St={class:"form-group no-scrollbar",style:{height:"350px","overflow-y":"scroll"}},Ct={class:"card bg-background/95 p-3"},Pt={class:"mx-1 rounded-3 row backdrop-blur-md",style:{overflow:"hidden",background:"#ffffff5c !important"}},Ut={class:"form-group"},Mt={class:"form-group"},Vt={class:"row"},Nt={class:"form-group ui-group"},_t=["onUpdate:modelValue","disabled","onInput"],It={class:"form-group"},Et={class:"row"},Ft={class:"form-group ui-group"},Dt=["onUpdate:modelValue","disabled","onInput"],zt={class:"row"},Bt={class:"col-12"};function Lt(n,s,r,l,e,i){const m=S("base-button"),x=S("form-message"),P=S("modal"),N=S("VuePictureCropper"),_=S("BaseButton");return d(),c("div",null,[t("section",H,[t("div",G,[t("div",K,[t("div",O,[t("h1",X," Welcome "+k(e.bio.firstName),1)])]),t("div",Y,[t("div",J,[t("div",Q,[s[53]||(s[53]=t("div",{class:"card-header"},[t("h5",null,"Personal Information"),t("p",{class:"text-sm"}," Your personal information helps us communicate with you effectively and provide personalized support. ")],-1)),t("div",Z,[t("div",$,[t("table",ss,[t("tbody",null,[s[52]||(s[52]=t("tr",null,[t("td",{class:"ps-1",colspan:"4"}),t("td"),t("td",{class:"text-center"},[t("span",{class:"text-sm"},[t("strong",{class:"text-muted"}," Verified ")])])],-1)),t("tr",null,[t("td",ts,[t("div",es,[s[44]||(s[44]=t("span",{class:"text-xs font-weight-normal"},"Name",-1)),t("span",os,k(e.bio.name),1)])]),t("td",null,[t("div",is,[t("button",{onClick:s[0]||(s[0]=o=>i.openUpdateModal("updateName")),class:"mt-2 btn btn-sm rounded-circle border-0 btn-outline-dark bg-gradient-dark btn-outline-dark bg-gradient-dark text-dark px-0 text-center float-end",style:{width:"35px !important",height:"35px !important"}},[...s[45]||(s[45]=[t("i",{class:"fa fa-pen text-white",style:{"font-size":"12px"}},null,-1)])])])])]),t("tr",ns,[t("td",rs,[t("div",ls,[s[46]||(s[46]=t("span",{class:"text-xs font-weight-normal"},"Phone Number",-1)),t("span",as,k(e.bio.countryCode||"+234")+" "+k(e.bio.phone),1)])]),s[47]||(s[47]=t("td",null,[t("div",{class:"form-check form-switch mb-0 d-flex align-items-center justify-content-center"},[t("button",{class:"mt-2 btn btn-sm rounded-circle border-0 btn-outline-dark bg-gradient-dark btn-outline-dark bg-gradient-dark text-dark px-0 text-center float-end",style:{width:"35px !important",height:"35px !important"}},[t("i",{class:"fa fa-lock text-white",style:{"font-size":"12px"}})])])],-1)),s[48]||(s[48]=t("td",{class:"text-center"},[t("i",{class:"fa fa-check text-success mb-0 mt-3 pt-1",style:{"font-size":"16px"}})],-1))]),t("tr",null,[t("td",ds,[t("div",cs,[s[49]||(s[49]=t("span",{class:"text-xs font-weight-normal"},"Email Address",-1)),t("span",ps,k(e.bio.email),1)])]),t("td",null,[t("div",ms,[t("button",{onClick:s[1]||(s[1]=o=>i.openUpdateModal("updateEmail")),class:"mt-2 btn btn-sm rounded-circle border-0 btn-outline-dark bg-gradient-dark btn-outline-dark bg-gradient-dark text-dark px-0 text-center float-end",style:{width:"35px !important",height:"35px !important"}},[...s[50]||(s[50]=[t("i",{class:"fa fa-pen text-white",style:{"font-size":"12px"}},null,-1)])])])]),s[51]||(s[51]=t("td",{class:"text-center"},[t("i",{class:"fa fa-check text-success mb-0 mt-3 pt-1",style:{"font-size":"16px"}})],-1))])])])])])]),t("div",us,[s[58]||(s[58]=t("div",{class:"card-header"},[t("h5",null,"Notifications"),t("p",{class:"text-sm"},"Choose how you receive notifications. These notification settings apply to the things you’re interested in.")],-1)),t("div",fs,[t("div",gs,[t("table",bs,[t("tbody",null,[t("tr",null,[s[54]||(s[54]=t("td",{class:"ps-1",colspan:"4"},[t("div",{class:"my-auto"},[t("span",{class:"text-foreground d-block",style:{"font-size":"20px"}},"Updates"),t("span",{class:"text-xs font-weight-normal"},"Get notified when a raiser you funded is updated.")])],-1)),t("td",null,[t("div",hs,[p(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=o=>e.notificationSettings.updates=o),onChange:s[3]||(s[3]=o=>i.updateNotificationSetting("updates",e.notificationSettings.updates)),disabled:e.notificationSettings.loading.includes("updates")?!0:void 0},null,40,vs),[[C,e.notificationSettings.updates]])])])]),t("tr",null,[s[55]||(s[55]=t("td",{class:"ps-1",colspan:"4"},[t("div",{class:"my-auto"},[t("span",{class:"text-foreground d-block",style:{"font-size":"20px"}},"Events"),t("span",{class:"text-xs font-weight-normal"},"Get notified when we have are special giving events just for you.")])],-1)),t("td",null,[t("div",ws,[p(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=o=>e.notificationSettings.events=o),onChange:s[5]||(s[5]=o=>i.updateNotificationSetting("events",e.notificationSettings.events)),disabled:e.notificationSettings.loading.includes("events")?!0:void 0},null,40,ys),[[C,e.notificationSettings.events]])])])]),t("tr",null,[s[56]||(s[56]=t("td",{class:"ps-1",colspan:"4"},[t("div",{class:"my-auto"},[t("span",{class:"text-foreground d-block",style:{"font-size":"20px"}},"Newsletters"),t("span",{class:"text-xs font-weight-normal"},"Get notified whenever we learn new things we need to share.")])],-1)),t("td",null,[t("div",xs,[p(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=o=>e.notificationSettings.newsletters=o),onChange:s[7]||(s[7]=o=>i.updateNotificationSetting("newsletters",e.notificationSettings.newsletters)),disabled:e.notificationSettings.loading.includes("newsletters")?!0:void 0},null,40,ks),[[C,e.notificationSettings.newsletters]])])])]),t("tr",null,[s[57]||(s[57]=t("td",{class:"ps-1",colspan:"4"},[t("div",{class:"my-auto"},[t("div",{class:"mb-0 text-foreground",style:{"font-size":"20px"}},"Log in from a new device"),t("span",{class:"text-xs font-weight-normal"},"Get notified anytime your account is signed into from a new device.")])],-1)),t("td",null,[t("div",Ss,[p(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[8]||(s[8]=o=>e.notificationSettings.login=o),onChange:s[9]||(s[9]=o=>i.updateNotificationSetting("login",e.notificationSettings.login)),disabled:e.notificationSettings.loading.includes("login")?!0:void 0},null,40,Cs),[[C,e.notificationSettings.login]])])])])])])])])]),t("div",Ps,[s[64]||(s[64]=t("div",{class:"card-header"},[t("h5",null,"Password Settings"),t("p",{class:"text-lg"})],-1)),t("form",{class:"card-body pt-0",onSubmit:s[13]||(s[13]=h((...o)=>i.savePasswordSettings&&i.savePasswordSettings(...o),["prevent"]))},[s[63]||(s[63]=t("label",{class:"text-lg"},"Current password",-1)),t("div",Us,[p(t("input",{class:"form-control border",type:"password","onUpdate:modelValue":s[10]||(s[10]=o=>e.passwordSettings.oldPassword=o),required:"",placeholder:"Current password"},null,512),[[v,e.passwordSettings.oldPassword]])]),t("div",Ms,[t("div",Vs,[s[59]||(s[59]=t("label",{class:"text-lg"},"New password",-1)),t("div",Ns,[p(t("input",{class:"form-control border",type:"password","onUpdate:modelValue":s[11]||(s[11]=o=>e.passwordSettings.newPassword=o),"min-length":"8",required:"",placeholder:"New password"},null,512),[[v,e.passwordSettings.newPassword]])])]),t("div",_s,[s[60]||(s[60]=t("label",{class:"text-lg"},"Confirm",-1)),t("div",Is,[p(t("input",{class:"form-control border",type:"password","onUpdate:modelValue":s[12]||(s[12]=o=>e.passwordSettings.confirmPassword=o),min:"8",required:"",placeholder:"Confirm password"},null,512),[[v,e.passwordSettings.confirmPassword]])])])]),t("div",Es,[t("div",Fs,[s[62]||(s[62]=j('<h5 class="mt-4 text-white">Password suggestions</h5><p class="text-white mb-2"> Please follow this guide for a strong password: </p><ol class="text-white ps-4 mb-0 float-start"><li><span class="text-sm">Use two special characters (examples: #, @, ₦, &amp;)</span></li><li><span class="text-sm">Use a minimum of eight (8) characters</span></li><li><span class="text-sm">Use at least one (1) number</span></li><li><span class="text-sm">Change it often</span></li></ol>',3)),u(m,{loading:e.passwordSettings.loading,class:"float-end mt-4 mx-2 text-md",disabled:e.passwordSettings.oldPassword&&e.passwordSettings.newPassword&&e.passwordSettings.confirmPassword?void 0:!0,nativeType:"submit",type:"success"},{default:b(()=>[...s[61]||(s[61]=[f(" Save ",-1)])]),_:1},8,["loading","disabled"])])])],32)])]),t("div",Ds,[t("div",zs,[t("div",{class:A(["card mt-4 position-relative rounded-3",e.bio.photoUrl?"border-0 shadow-sm":"shadow-none border border-light"]),style:{width:"95%","aspect-ratio":"1",overflow:"hidden"}},[e.bio.photoUrl?(d(),c("img",{key:0,src:e.bio.photoUrl,class:"blur rounded-3 border p-1 position-absolute",style:{width:"100%","aspect-ratio":"1",scale:"1.5","animation-duration":"100s",background:"url(/img/shapes/avatar.webp)"},alt:"Profile Image"},null,8,Bs)):w("",!0),s[67]||(s[67]=t("div",{class:"blur mask backdrop-blur-md opacity-100 rounded-3"},null,-1)),t("div",Ls,[s[66]||(s[66]=t("h5",{class:"mb-0"},"Profile Picture ",-1)),e.bio.photoUrl?w("",!0):(d(),c("img",Rs)),e.bio.photoUrl?(d(),c("img",{key:1,src:e.bio.photoUrl,class:"mt-3 mb-4 border border-1 border-primary p-0 hover-expandable-circle",style:{width:"70%","aspect-ratio":"1","transition-duration":"1s",background:"url(/img/shapes/avatar.webp)"},alt:"Profile Image"},null,8,Ts)):w("",!0),t("button",{class:"mt-2 btn btn-sm rounded-circle border-0 btn-outline-dark bg-gradient-dark px-0 position-absolute top-0 end-2",onClick:s[14]||(s[14]=o=>{e.showProfilePhotoModal=!0,i.openImageSelectionDialog()}),style:{width:"35px !important",height:"35px !important"}},[...s[65]||(s[65]=[t("i",{class:"fa fa-camera text-white",style:{"font-size":"16px"}},null,-1)])])])],2)])])])])]),u(P,{show:e.showModal,"onUpdate:show":s[30]||(s[30]=o=>e.showModal=o),"body-classes":"p-0","modal-classes":""},{default:b(()=>[t("div",js,[t("button",{onClick:s[15]||(s[15]=o=>e.showModal=!1),class:"position-absolute end-0 me-4 mt-1 btn btn-sm bg-background/60 backdrop-blur-md px-2 py-1 rounded-3 z-index-3"},[...s[68]||(s[68]=[t("i",{class:"fa fa-times text-white",style:{"font-size":"15px"}},null,-1)])]),t("div",As,[t("div",qs,[t("div",Ws,[t("div",Hs,[t("div",Gs,[u(x,{html:e.updateFormMessage.message,"onUpdate:html":s[16]||(s[16]=o=>e.updateFormMessage.message=o),type:e.updateFormMessage.type},null,8,["html","type"]),t("div",Ks,[e.modalAction==="updateName"?(d(),c("form",{key:0,onSubmit:s[19]||(s[19]=h((...o)=>i.updateName&&i.updateName(...o),["prevent"])),class:"col-12"},[t("div",Os,[t("div",Xs,[t("div",Ys,[s[69]||(s[69]=t("label",{class:"text-lg text-foreground"},"First name",-1)),p(t("input",{required:"",class:"form-control border form-control-alternative text-lg","onUpdate:modelValue":s[17]||(s[17]=o=>e.bio.firstName=o),disabled:i.bioFormDisabled},null,8,Js),[[v,e.bio.firstName]])])]),t("div",Qs,[t("div",Zs,[s[70]||(s[70]=t("label",{class:"text-lg text-foreground"},"Last name",-1)),p(t("input",{required:"",class:"form-control border form-control-alternative text-lg","onUpdate:modelValue":s[18]||(s[18]=o=>e.bio.lastName=o),disabled:i.bioFormDisabled},null,8,$s),[[v,e.bio.lastName]])])])]),u(m,{loading:e.savingModalFormData,nativeType:"submit",type:"success",class:"float-end"},{default:b(()=>[...s[71]||(s[71]=[f("Save",-1)])]),_:1},8,["loading"])],32)):w("",!0),e.modalAction==="updateEmail"?(d(),c("form",{key:1,onSubmit:s[21]||(s[21]=h((...o)=>i.updateEmail&&i.updateEmail(...o),["prevent"])),class:"col-12"},[t("div",st,[s[72]||(s[72]=t("label",{class:"text-lg"},"Email Address",-1)),p(t("input",{required:"",class:"form-control border form-control-alternative text-lg",placeholder:"Update your email address","onUpdate:modelValue":s[20]||(s[20]=o=>e.bio.newEmail=o),disabled:i.bioFormDisabled},null,8,tt),[[v,e.bio.newEmail]])]),u(m,{loading:e.savingModalFormData,nativeType:"submit",type:"success",class:"float-end"},{default:b(()=>[...s[73]||(s[73]=[f("Save",-1)])]),_:1},8,["loading"])],32)):w("",!0),e.modalAction==="verifyEmail"?(d(),c("form",{key:2,onSubmit:s[25]||(s[25]=h((...o)=>i.verifyEmail&&i.verifyEmail(...o),["prevent"])),class:"col-12"},[t("div",et,[s[75]||(s[75]=t("label",{class:"text-lg col-12"},"Verification Code",-1)),(d(),c(U,null,M(6,o=>t("div",{class:"col-2",key:o},[t("div",ot,[p(t("input",{type:"text",class:"form-control border form-control-lg text-center px-1",maxlength:"1","onUpdate:modelValue":a=>e.bio.verificationCode[o]=a,autocomplete:"off",disabled:i.bioFormDisabled,autocapitalize:"none",ref_for:!0,ref:"emailVerificationCode"+o,onPaste:s[22]||(s[22]=h((...a)=>i.paste&&i.paste(...a),["prevent"])),onInput:a=>i.focusNext(a,o)},null,40,it),[[v,e.bio.verificationCode[o]]])])])),64)),t("div",nt,[s[74]||(s[74]=f(" Have not received a code? ",-1)),e.bio.emailVerificationCodeResendWaitTime==0?(d(),c("span",{key:0,onClick:s[23]||(s[23]=(...o)=>i.updateEmail&&i.updateEmail(...o)),class:"text-success cursor-pointer"},"Resend code")):(d(),c("span",{key:1,onClick:s[24]||(s[24]=(...o)=>i.updateEmail&&i.updateEmail(...o)),class:"text-success cursor-pointer"},"Resend code in "+k(n.emailVerificationCodeResendWaitTime)+" seconds",1))])]),u(m,{loading:e.savingModalFormData,nativeType:"submit",type:"success",class:"float-end"},{default:b(()=>[...s[76]||(s[76]=[f("Verify",-1)])]),_:1},8,["loading"])],32)):w("",!0),e.modalAction==="consentToBVNCheck"?(d(),c("form",{key:3,onSubmit:s[28]||(s[28]=h((...o)=>n.consentToBVNCheck&&n.consentToBVNCheck(...o),["prevent"])),class:"col-12"},[t("div",rt,[s[77]||(s[77]=t("label",{class:"text-lg"},"Bank Verification Number",-1)),p(t("input",{required:"",class:"form-control border form-control-alternative text-lg",pattern:"[0-9]{10,12}",placeholder:"Enter your bank verification number","onUpdate:modelValue":s[26]||(s[26]=o=>e.bio.bvn=o),disabled:i.bioFormDisabled},null,8,lt),[[v,e.bio.bvn]])]),t("div",at,[t("div",dt,[p(t("input",{class:"form-check-input",type:"checkbox",value:"","onUpdate:modelValue":s[27]||(s[27]=o=>e.bio.bvnConsent=o),id:"bvnConsentCheck"},null,512),[[C,e.bio.bvnConsent]]),s[78]||(s[78]=t("label",{class:"custom-control-label text-light text-foreground text-lg",for:"bvnConsentCheck"},[f("I consent to a Bank Verification Number "),t("strong",null,"validity check"),f(" from Donner.")],-1))])]),u(m,{loading:e.savingModalFormData,nativeType:"submit",disabled:e.bio.bvnConsent?void 0:!0,type:"success",class:"float-end"},{default:b(()=>[...s[79]||(s[79]=[f("Verify",-1)])]),_:1},8,["loading","disabled"])],32)):w("",!0),e.modalAction==="verifyBVN"?(d(),c("form",{key:4,onSubmit:s[29]||(s[29]=h((...o)=>n.verifyBVN&&n.verifyBVN(...o),["prevent"])),class:"col-12"},[t("div",ct,[s[80]||(s[80]=t("label",{class:"text-lg"},"Click the link to verify your BVN ",-1)),t("a",{href:e.bio.bvnRedirectLink,class:"form-control border form-control-lg form-control-alternative text-lg text-white backdrop-blur-md bg-secondary"},null,8,pt)]),u(m,{loading:e.savingModalFormData,nativeType:"submit",disabled:e.bio.bvnConsent?void 0:!0,type:"success",class:"float-end"},{default:b(()=>[...s[81]||(s[81]=[f("Verify",-1)])]),_:1},8,["loading","disabled"])],32)):w("",!0)])])])])])])])]),_:1},8,["show"]),u(P,{show:e.showProfilePhotoModal,"onUpdate:show":s[36]||(s[36]=o=>e.showProfilePhotoModal=o),"body-classes":"p-0","modal-classes":" modal-lg"},{default:b(()=>[t("div",mt,[t("button",{onClick:s[31]||(s[31]=o=>i.closeProfilePhotoModal()),class:"position-absolute end-0 me-4 mt-1 btn btn-sm z-index-3 text-success backdrop-blur-md bg-secondary px-2 py-1 rounded-3"},[...s[82]||(s[82]=[t("i",{class:"fa fa-times text-white",style:{"font-size":"15px"}},null,-1)])]),t("div",ut,[t("div",ft,[t("div",gt,[t("div",bt,[s[88]||(s[88]=t("div",{class:"mb-3 text-center w-[100%]"},[t("span",{class:"text-foreground",style:{"font-size":"20px","font-weight":"700"}},"Set Profile Picture ")],-1)),e.showImageCropper?w("",!0):(d(),c("div",ht,[t("div",{onClick:s[33]||(s[33]=(...o)=>i.openImageSelectionDialog&&i.openImageSelectionDialog(...o)),class:"position-relative w-[100%] rounded-3 bg-background text-center align-items-center mb-3",style:{height:"350px",width:"350px",cursor:"pointer"}},[t("img",{src:e.photoUrl||"/img/shapes/avatar.webp",style:{"object-fit":"contain",left:"0"},class:"rounded-3 w-[100%] h-[100%] position-absolute"},null,8,vt),e.photoUrl==e.bio.photoUrl?(d(),c("span",wt,[...s[83]||(s[83]=[f(" Pick Profile Picture ",-1),t("br",null,null,-1)])])):w("",!0),s[84]||(s[84]=t("div",{class:"position-absolute top-0 end-0 px-3"},[t("button",{class:"mt-2 btn btn-sm rounded-circle border-0 btn-outline-dark bg-gradient-dark btn-outline-dark bg-gradient-dark text-dark px-0 text-center float-end",style:{width:"35px !important",height:"35px !important"},type:"button"},[t("i",{class:"fa fa-pen text-white",style:{"font-size":"12px"}})])],-1)),t("input",{onChange:s[32]||(s[32]=(...o)=>i.openImageCropper&&i.openImageCropper(...o)),class:"d-none",type:"file",accept:"image/*",ref:"imageFileUploadInput"},null,544)]),t("button",{type:"button",onClick:s[34]||(s[34]=o=>this.photoUrl=""),disabled:e.photoUrl==""?!0:void 0,class:"btn btn-outline-success bg-background btn-sm float-start position-sticky bottom-0 mx-1 px-3"},[...s[85]||(s[85]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 18L12 12L18 18M18 6L11.9989 12L6 6",stroke:"#7E7E7E","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),f(" Remove ",-1)])],8,yt)])),e.showImageCropper?(d(),c("div",xt,[t("div",kt,[t("div",St,[u(N,{boxStyle:{width:"100%",height:"350px",backgroundColor:"#f8f8f8",margin:"0","border-radius":"8px","overflow-y":"clip","overflow-x":"clip"},img:e.picture,options:{viewMode:2,dragMode:"crop",aspectRatio:1/1}},null,8,["img"])]),t("button",{type:"button",onClick:s[35]||(s[35]=o=>{e.photoUrl="",e.showImageCropper=!1}),class:"btn btn-outline-success bg-background btn-sm float-start position-sticky bottom-0 mx-3 px-3"},[...s[86]||(s[86]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 18L12 12L18 18M18 6L11.9989 12L6 6",stroke:"#7E7E7E","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),f(" Cancel ",-1)])]),u(m,{type:"button",onClick:i.cropImage,size:"sm",loading:e.croppingImage,class:"btn btn-outline-success bg-background btn-sm float-end position-sticky bottom-0 mx-3 px-3"},{default:b(()=>[...s[87]||(s[87]=[t("svg",{fill:"#7E7E7E",height:"24",width:"24",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330"},[t("path",{id:"XMLID_28_",d:`M315,240h-45V81.213l55.606-55.606c5.858-5.858,5.858-15.355,0-21.213c-5.857-5.858-15.355-5.858-21.213,0
                                                  L248.787,60H90V15c0-8.284-6.716-15-15-15c-8.284,0-15,6.716-15,15v45H15C6.716,60,0,66.716,0,75s6.716,15,15,15h45v158.787
                                                  L4.394,304.394c-5.858,5.858-5.858,15.355,0,21.213C7.322,328.536,11.161,330,15,330c3.839,0,7.678-1.464,10.606-4.394L81.213,270
                                                  H240v45c0,8.284,6.716,15,15,15c8.284,0,15-6.716,15-15v-45h45c8.284,0,15-6.716,15-15S323.284,240,315,240z M90,90h128.787
                                                  L90,218.787V90z M240,111.213V240H111.213L240,111.213z`})],-1),f(" Crop ",-1)])]),_:1},8,["onClick","loading"])])])):w("",!0)]),u(_,{class:"float-end btn-success mb-3 mt-3",loading:e.savingImage,disabled:e.photoUrl==e.bio.photoUrl,onClick:h(i.saveCroppedImage,["prevent"])},{default:b(()=>[...s[89]||(s[89]=[f(" Save ",-1)])]),_:1},8,["loading","disabled","onClick"])])])])])]),_:1},8,["show"]),u(P,{show:e.showPasscodeModal,"onUpdate:show":s[43]||(s[43]=o=>e.showPasscodeModal=o),"body-classes":"p-0","modal-classes":""},{default:b(()=>[t("div",Ct,[t("button",{onClick:s[37]||(s[37]=o=>e.showPasscodeModal=!1),class:"position-absolute end-0 me-4 mt-1 btn btn-sm bg-background/60 backdrop-blur-md px-2 py-1 rounded-3 z-index-3"},[...s[90]||(s[90]=[t("i",{class:"fa fa-times text-white",style:{"font-size":"15px"}},null,-1)])]),t("div",Pt,[t("form",{class:"card-body pt-0",onSubmit:s[42]||(s[42]=h((...o)=>i.savePasscode&&i.savePasscode(...o),["prevent"]))},[s[92]||(s[92]=t("div",{class:"row pt-4"},[t("div",{class:"col-12 text-center mb-3"},[t("h5",{class:"font-weight-bolder"},"Set Passcode")])],-1)),u(x,{html:e.passcodeFormMessage.message,"onUpdate:html":s[38]||(s[38]=o=>e.passcodeFormMessage.message=o),type:e.passcodeFormMessage.type},null,8,["html","type"]),s[93]||(s[93]=t("label",{class:"text-lg"},"Current Password",-1)),t("div",Ut,[p(t("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":s[39]||(s[39]=o=>e.currentPassword=o),autocomplete:"current-password",placeholder:"Enter your current password"},null,512),[[v,e.currentPassword]])]),s[94]||(s[94]=t("label",{class:"text-lg"},"New Passcode",-1)),t("div",Mt,[t("div",Vt,[(d(),c(U,null,M(4,o=>t("div",{class:"col-3 col-sm-3",key:o},[t("div",Nt,[p(t("input",{type:"password",class:"form-control form-control-lg text-center px-0 border",maxlength:"1","onUpdate:modelValue":a=>e.passcode[o]=a,autocomplete:"off",disabled:e.passcodeSettings.loading,autocapitalize:"none",ref_for:!0,ref:"passcodeInput"+o,onPaste:s[40]||(s[40]=h(a=>i.pastePasscode(a,"passcode"),["prevent"])),onInput:a=>i.focusNextPasscode(a,o,"passcode")},null,40,_t),[[v,e.passcode[o]]])])])),64))])]),s[95]||(s[95]=t("label",{class:"text-lg"},"Confirm Passcode",-1)),t("div",It,[t("div",Et,[(d(),c(U,null,M(4,o=>t("div",{class:"col-3 col-sm-3",key:o},[t("div",Ft,[p(t("input",{type:"password",class:"form-control form-control-lg text-center px-0 border",maxlength:"1","onUpdate:modelValue":a=>e.passcodeConfirm[o]=a,autocomplete:"off",disabled:e.passcodeSettings.loading,autocapitalize:"none",ref_for:!0,ref:"passcodeConfirmInput"+o,onPaste:s[41]||(s[41]=h(a=>i.pastePasscode(a,"passcodeConfirm"),["prevent"])),onInput:a=>i.focusNextPasscode(a,o,"passcodeConfirm")},null,40,Dt),[[v,e.passcodeConfirm[o]]])])])),64))])]),t("div",zt,[t("div",Bt,[u(m,{loading:e.passcodeSettings.loading,class:"float-end mt-4 mx-2 text-md",disabled:!i.isPasscodeValid,nativeType:"submit",type:"success"},{default:b(()=>[...s[91]||(s[91]=[f(" Save Passcode ",-1)])]),_:1},8,["loading","disabled"])])])],32)])])]),_:1},8,["show"])])}const Xt=R(W,[["render",Lt]]);export{Xt as default};
