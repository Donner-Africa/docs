import{E as b,a as s,f as r,n as m,u as x,H as P,G as k,l as T,r as _,F as c,g as u,d as g,w as v,b as n,e as w,P as C,t as p,h as f,v as A,y as N}from"./index-c49e93e4.js";const I=b({__name:"Skeleton",props:{class:{}},setup(o){const t=o;return(l,h)=>(s(),r("div",{class:m(x(P)("animate-pulse rounded-md bg-primary/10",t.class))},null,2))}}),B=b({__name:"Empty",props:{class:{}},setup(o){const t=o;return(l,h)=>(s(),r("div",{"data-slot":"empty",class:m(x(P)("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-solid border-slate-50 p-6 text-center md:p-12",t.class))},[k(l.$slots,"default")],2))}}),V=b({__name:"EmptyTitle",props:{class:{}},setup(o){const t=o;return(l,h)=>(s(),r("div",{"data-slot":"empty-title",class:m(x(P)("text-lg font-medium tracking-tight",t.class))},[k(l.$slots,"default")],2))}}),j=b({__name:"EmptyDescription",props:{class:{}},setup(o){const t=o;return(l,h)=>(s(),r("p",{"data-slot":"empty-description",class:m(x(P)("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",t.class))},[k(l.$slots,"default")],2))}});const q={name:"CustomTable",components:{Skeleton:I,Empty:B,EmptyTitle:V,EmptyDescription:j},props:{title:{type:String,default:"donations"},initialData:{type:Array,required:!1},columns:{type:Array,required:!0},filterQuery:{type:String,default:""},rowStyle:{type:Object,default:()=>({even:{},odd:{}})},columnStyles:{type:Object,default:()=>({})},loadAsync:{type:Boolean,required:!1},fetchData:{type:Function,required:!1},filterEnabled:{type:Boolean,default:!0},hasActions:{type:Boolean,default:!1},selectedRow:{type:Object,default:{}}},data(){return{data:[],sortColumn:null,sortOrder:"DESC",currentPage:1,rowsPerPage:10,totalElements:0,totalPages:1,pageSizeOptions:[10,15,25,50],loading:!1}},async mounted(){this.loadAsync&&this.fetchData&&await this.fetchDataIfNeeded({page:this.currentPage,size:this.rowsPerPage,sort:this.sortColumn,direction:this.sortOrder,search:this.filterQuery})},computed:{},methods:{handleClick(o){this.$emit("update:selectedRow",o)},sortByColumn(o){this.columns.findLast(l=>l.key===o).sort!==!1&&(this.sortColumn===o?(this.sortColumn=this.sortOrder==="ASC"?o:"",this.sortOrder=this.sortOrder==="ASC"?"DESC":""):(this.sortColumn=o,this.sortOrder="ASC"),this.fetchDataIfNeeded())},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchDataIfNeeded())},prevPage(){this.currentPage>1&&(this.currentPage--,this.fetchDataIfNeeded())},async fetchDataIfNeeded(){if(this.fetchData){this.loading=!0;try{const o=await this.fetchData({page:this.currentPage-1,size:this.rowsPerPage,sort:this.sortColumn,direction:this.sortOrder,search:this.filterQuery});this.data=o.content,this.totalElements=o.totalElements,this.totalPages=o.totalPages}finally{this.loading=!1}}}},watch:{currentPage(o){this.fetchDataIfNeeded(),document.getElementById("DataTablePagingIndexOption"+o).scrollIntoView({behavior:"smooth"})},rowsPerPage(){this.currentPage=1,this.fetchDataIfNeeded()},filterQuery(){this.currentPage=1,this.fetchDataIfNeeded()}}},z={class:"table-container no-scrollbar"},Q={key:0,class:"w-[100%] py-3"},F={key:1,class:"w-[100%] py-3"},L={key:2,class:"advanced-table"},R=["onClick"],G={key:0,class:"text-success"},H={key:0},M=["onClick"],U={key:0},J={key:3,class:"mt-4 row"},W={class:"col-sm-8 pt-3 text-center text-sm-start"},X={class:"d-inline-flex"},Y={for:"#selectPage",class:"input-group border border-3 border-success bg-success",style:{"border-radius":"2rem"}},Z={class:"input-group-text border border-white text-success ps-2 my-1 ms-1",style:{"border-radius":"2rem"}},K={class:"ms-2 me-1"},$=["value"],ee={key:0,class:"col-sm-4 text-center text-sm-end"},te={class:"dataTable-pagination border border-3 border-success px-1 py-1 d-inline-flex",style:{"border-radius":"2rem"}},se={class:"pt-1 px-1",style:{border:"solid #ddd","border-width":"0 0.2px 0 0"}},re=["disabled"],ne={class:"dataTable-pagination-list no-scrollbar d-inline-flex text-center",style:{"max-width":"150px","overflow-x":"scroll","overflow-y":"hidden"}},oe=["id"],ae=["onClick"],le={class:"pt-1 px-1",style:{border:"solid #ddd","border-width":"0 0 0 0.2px"}},ie=["disabled"];function de(o,t,l,h,a,d){const D=_("Skeleton"),S=_("EmptyTitle"),E=_("EmptyDescription"),O=_("Empty");return s(),r("div",z,[a.loading?(s(),r("div",Q,[(s(),r(c,null,u(5,e=>g(D,{class:"h-12 w-[100%] my-2",key:e})),64))])):!a.loading&&a.data.length===0?(s(),r("div",F,[g(O,null,{default:v(()=>[t[5]||(t[5]=n("div",{class:"flex justify-center items-center text-center"},[n("div",{class:"rounded-full bg-muted p-3"},[n("i",{class:"fa fa-inbox text-2xl text-slate-400"})])],-1)),g(S,null,{default:v(()=>[...t[3]||(t[3]=[w("No items found",-1)])]),_:1}),g(E,null,{default:v(()=>[...t[4]||(t[4]=[w("There are no items to display at this time.",-1)])]),_:1})]),_:1})])):(s(),r("table",L,[n("thead",null,[n("tr",null,[(s(!0),r(c,null,u(l.columns,e=>(s(),r("th",{key:e.key,onClick:y=>d.sortByColumn(e.key),style:C(l.columnStyles[e.key]||{})},[w(p(e.label)+" ",1),a.sortColumn===e.key?(s(),r("span",G,[n("i",{class:m(a.sortOrder==="ASC"?"fa fa-arrow-up":"fa fa-arrow-down")},null,2)])):f("",!0)],12,R))),128)),l.hasActions?(s(),r("th",H,"Actions")):f("",!0)])]),n("tbody",null,[(s(!0),r(c,null,u(a.data,(e,y)=>(s(),r("tr",{key:y,style:C(y%2===0?l.rowStyle.even:l.rowStyle.odd),onClick:i=>d.handleClick(e)},[(s(!0),r(c,null,u(l.columns,i=>(s(),r("td",{key:i.key,style:C(l.columnStyles[i.key]||{})},p(i.formatter?i.formatter(e[i.key]):e[i.key]),5))),128)),l.hasActions?(s(),r("td",U,[k(o.$slots,"actions",{row:e},void 0,!0)])):f("",!0)],12,M))),128))])])),!a.loading&&a.data.length>0?(s(),r("div",J,[n("div",W,[n("div",X,[n("label",Y,[n("span",Z,[n("span",K," Out of "+p(a.totalElements),1)]),A(n("select",{id:"selectPage","onUpdate:modelValue":t[0]||(t[0]=e=>a.rowsPerPage=e),class:"form-control h-[100%] border border-0 px-3 rounded-3 bg-transparent text-white"},[(s(!0),r(c,null,u(a.pageSizeOptions,e=>(s(),r("option",{key:e,value:e},p(e)+" "+p(l.title),9,$))),128))],512),[[N,a.rowsPerPage]])])])]),a.totalPages>1?(s(),r("div",ee,[t[8]||(t[8]=n("div",{class:"dataTable-bottom w-[100%] w-sm-50"},null,-1)),n("nav",te,[n("span",se,[n("a",{class:"cursor-pointer btn-round btn-outline-success border-succes btn px-2 py-1 mb-0",onClick:t[1]||(t[1]=(...e)=>d.prevPage&&d.prevPage(...e)),disabled:a.currentPage===1},[...t[6]||(t[6]=[n("i",{class:"fa fa-arrow-circle-left text-success"},null,-1)])],8,re)]),n("ul",ne,[(s(!0),r(c,null,u(a.totalPages,e=>(s(),r("li",{id:`DataTablePagingIndexOption${e}`,class:m(["",{active:a.currentPage==e}]),key:e},[n("a",{class:"cursor-pointer",onClick:y=>a.currentPage=e},p(e),9,ae)],10,oe))),128))]),n("span",le,[n("a",{class:"cursor-pointer btn-round btn-outline-success border-succes btn px-2 py-1 mb-0",onClick:t[2]||(t[2]=(...e)=>d.nextPage&&d.nextPage(...e)),disabled:a.currentPage===a.totalPages},[...t[7]||(t[7]=[n("i",{class:"fa fa-arrow-circle-right text-success"},null,-1)])],8,ie)])])])):f("",!0)])):f("",!0)])}const ue=T(q,[["render",de],["__scopeId","data-v-d6465cab"]]);export{ue as D};
