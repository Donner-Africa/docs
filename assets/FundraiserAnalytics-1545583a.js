import{S as p}from"./StatusBadge-dbf57256.js";import{f as x}from"./FormUtility-a2bc7d0b.js";import{l as y,r as w,a,f as i,b as s,n as d,e as c,v as g,y as C,F as m,g as u,t as n,P as v,z as D,d as k,h as A}from"./index-224ff9c4.js";const R={name:"FundraiserAnalytics",components:{StatusBadge:p},data(){return{dateRange:"30d",selectedFundraiserId:"",chartType:"amount",showAnonymous:!0,fundraisers:[],metrics:{totalRaised:525e4,raisedChange:15.3,totalDonors:234,donorsChange:8.2,avgDonation:22435,avgChange:5.1,conversionRate:3.8,convChange:-1.2},mockChartData:[40,65,45,80,72,90,85],mockChartLabels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],donationSources:[{name:"Direct Link",percentage:45,amount:2362500,color:"bg-success"},{name:"Social Media",percentage:28,amount:147e4,color:"bg-primary"},{name:"Email Campaign",percentage:18,amount:945e3,color:"bg-info"},{name:"Referrals",percentage:9,amount:472500,color:"bg-warning"}],impact:{beneficiariesServed:89,fundsDisbursed:32e5,interventions:156},recentImpacts:[{id:1,icon:"fa fa-medkit",title:"Medical Supplies Delivered",description:"Distributed to 15 clinics",date:new Date(Date.now()-864e5)},{id:2,icon:"fa fa-graduation-cap",title:"Scholarships Awarded",description:"12 students received funding",date:new Date(Date.now()-864e5*3)},{id:3,icon:"fa fa-home",title:"Emergency Shelter",description:"8 families housed",date:new Date(Date.now()-864e5*7)}],topDonors:[{id:1,name:"Johnson Enterprises",total:5e5,count:5,isAnonymous:!1},{id:2,name:null,total:35e4,count:1,isAnonymous:!0},{id:3,name:"Mary Thompson",total:25e4,count:3,isAnonymous:!1},{id:4,name:"TechCorp Foundation",total:2e5,count:2,isAnonymous:!1},{id:5,name:null,total:15e4,count:2,isAnonymous:!0}]}},computed:{selectedFundraiser(){return this.fundraisers.find(l=>l.id===this.selectedFundraiserId)},filteredTopDonors(){return this.showAnonymous?this.topDonors:this.topDonors.filter(l=>!l.isAnonymous)}},methods:{formatAmount:x,getInitials(l){return l?l.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?"},formatRelativeTime(l){const t=new Date(l),b=new Date-t,o=Math.floor(b/864e5);return o===0?"Today":o===1?"Yesterday":o<7?`${o}d ago`:`${Math.floor(o/7)}w ago`},getRankClass(l){return l===1?"gold":l===2?"silver":l===3?"bronze":""},exportReport(){alert("Export report - to be implemented")},async fetchData(){this.fundraisers=[{id:1,title:"Medical Aid Campaign",category:"Healthcare",status:"active",goal:5e6,raised:35e5,donorCount:145,avgDonation:24137},{id:2,title:"Education Support Fund",category:"Education",status:"active",goal:2e6,raised:125e4,donorCount:78,avgDonation:16026},{id:3,title:"Emergency Relief 2024",category:"Emergency",status:"completed",goal:1e6,raised:1e6,donorCount:56,avgDonation:17857}]}},async mounted(){await this.fetchData()}},F={class:"fundraiser-analytics"},S={class:"page-header mb-4"},T={class:"row align-items-center"},M={class:"col-md-6 text-md-end"},I={class:"btn-group"},j={class:"fundraiser-selector mb-4"},E={class:"card shadow-none border"},z={class:"card-body py-3"},B={class:"row align-items-center"},V={class:"col-md-6"},L=["value"],N={class:"col-md-6 text-md-end mt-3 mt-md-0"},P={class:"fw-bold text-dark"},U={class:"row g-3 mb-4"},G={class:"col-md-3"},H={class:"metric-card card shadow-none border h-[100%]"},J={class:"card-body"},W={class:"d-flex justify-content-between align-items-start"},Y={class:"h4 mb-0 text-success"},q={class:"col-md-3"},K={class:"metric-card card shadow-none border h-[100%]"},O={class:"card-body"},Q={class:"d-flex justify-content-between align-items-start"},X={class:"h4 mb-0 text-primary"},Z={class:"col-md-3"},$={class:"metric-card card shadow-none border h-[100%]"},ss={class:"card-body"},ts={class:"d-flex justify-content-between align-items-start"},es={class:"h4 mb-0 text-info"},os={class:"col-md-3"},ns={class:"metric-card card shadow-none border h-[100%]"},as={class:"card-body"},is={class:"d-flex justify-content-between align-items-start"},ds={class:"h4 mb-0 text-warning"},rs={class:"row g-4 mb-4"},ls={class:"col-lg-8"},cs={class:"card shadow-none border h-[100%]"},ms={class:"card-header bg-white d-flex justify-content-between align-items-center"},us={class:"btn-group btn-group-sm"},hs={class:"card-body"},vs={class:"mock-chart mt-3"},bs={class:"d-flex justify-content-between",style:{height:"100px"}},gs={class:"d-flex justify-content-between mt-1"},fs={class:"col-lg-4"},_s={class:"card shadow-none border h-[100%]"},ps={class:"card-body"},xs={class:"d-flex justify-content-between mb-1"},ys={class:"text-dark"},ws={class:"fw-bold"},Cs={class:"progress",style:{height:"8px"}},Ds={class:"text-muted"},ks={class:"row g-4 mb-4"},As={class:"col-lg-6"},Rs={class:"card shadow-none border h-[100%]"},Fs={class:"card-body"},Ss={class:"row g-3 mb-4"},Ts={class:"col-4 text-center"},Ms={class:"h3 mb-0 text-success"},Is={class:"col-4 text-center"},js={class:"h3 mb-0 text-primary"},Es={class:"col-4 text-center"},zs={class:"h3 mb-0 text-info"},Bs={class:"impact-timeline"},Vs={class:"impact-icon me-3"},Ls={class:"flex-grow-1"},Ns={class:"fw-semibold text-dark"},Ps={class:"text-muted"},Us={class:"text-muted"},Gs={class:"col-lg-6"},Hs={class:"card shadow-none border h-[100%]"},Js={class:"card-header bg-white d-flex justify-content-between align-items-center"},Ws={class:"mb-0 small d-flex align-items-center"},Ys={class:"card-body p-0"},qs={class:"table table-sm mb-0"},Ks={class:"d-flex align-items-center"},Os={class:"donor-avatar me-2"},Qs={key:0,class:"fa fa-user-secret"},Xs={key:1},Zs={class:"text-end fw-bold text-success"},$s={class:"text-center"},st={key:0,class:"card shadow-none border"},tt={class:"card-body p-0"},et={class:"table-responsive"},ot={class:"table table-hover mb-0"},nt={class:"fw-semibold text-dark"},at={class:"text-muted"},it={class:"text-end"},dt={class:"text-end text-success fw-bold"},rt={class:"text-center"},lt={class:"d-flex align-items-center justify-content-center"},ct={class:"progress flex-grow-1 me-2",style:{width:"80px",height:"6px"}},mt={class:"text-muted"},ut={class:"text-center"},ht={class:"text-end"};function vt(l,t,f,b,o,r){const _=w("status-badge");return a(),i("div",F,[s("div",S,[s("div",T,[t[10]||(t[10]=s("div",{class:"col-md-6"},[s("h4",{class:"mb-1 text-dark"},"Fundraiser Analytics"),s("p",{class:"text-muted mb-0"},"Performance tracking and impact reporting")],-1)),s("div",M,[s("div",I,[s("button",{class:d(["btn",o.dateRange==="7d"?"btn-success":"btn-outline-secondary"]),onClick:t[0]||(t[0]=e=>o.dateRange="7d")}," 7D ",2),s("button",{class:d(["btn",o.dateRange==="30d"?"btn-success":"btn-outline-secondary"]),onClick:t[1]||(t[1]=e=>o.dateRange="30d")}," 30D ",2),s("button",{class:d(["btn",o.dateRange==="90d"?"btn-success":"btn-outline-secondary"]),onClick:t[2]||(t[2]=e=>o.dateRange="90d")}," 90D ",2),s("button",{class:d(["btn",o.dateRange==="all"?"btn-success":"btn-outline-secondary"]),onClick:t[3]||(t[3]=e=>o.dateRange="all")}," All Time ",2)]),s("button",{class:"btn btn-outline-secondary ms-2",onClick:t[4]||(t[4]=(...e)=>r.exportReport&&r.exportReport(...e))},[...t[9]||(t[9]=[s("i",{class:"fa fa-download me-1"},null,-1),c(" Export ",-1)])])])])]),s("div",j,[s("div",E,[s("div",z,[s("div",B,[s("div",V,[g(s("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedFundraiserId=e)},[t[11]||(t[11]=s("option",{value:""},"All Fundraisers",-1)),(a(!0),i(m,null,u(o.fundraisers,e=>(a(),i("option",{key:e.id,value:e.id},n(e.title),9,L))),128))],512),[[C,o.selectedFundraiserId]])]),s("div",N,[t[12]||(t[12]=s("span",{class:"text-muted me-2"},"Showing data for:",-1)),s("span",P,n(r.selectedFundraiser?r.selectedFundraiser.title:"All Fundraisers"),1)])])])])]),s("div",U,[s("div",G,[s("div",H,[s("div",J,[s("div",W,[s("div",null,[t[13]||(t[13]=s("div",{class:"text-muted text-sm mb-1"},"Total Raised",-1)),s("div",Y,"₦"+n(r.formatAmount(o.metrics.totalRaised)),1)]),t[14]||(t[14]=s("div",{class:"metric-icon bg-success-soft"},[s("i",{class:"fa fa-money-bill-wave text-success"})],-1))]),s("div",{class:d(["metric-change mt-2",o.metrics.raisedChange>=0?"text-success":"text-danger"])},[s("i",{class:d(o.metrics.raisedChange>=0?"fa fa-arrow-up":"fa fa-arrow-down")},null,2),c(" "+n(Math.abs(o.metrics.raisedChange))+"% vs previous period ",1)],2)])])]),s("div",q,[s("div",K,[s("div",O,[s("div",Q,[s("div",null,[t[15]||(t[15]=s("div",{class:"text-muted text-sm mb-1"},"Total Donors",-1)),s("div",X,n(o.metrics.totalDonors),1)]),t[16]||(t[16]=s("div",{class:"metric-icon bg-primary-soft"},[s("i",{class:"fa fa-users text-primary"})],-1))]),s("div",{class:d(["metric-change mt-2",o.metrics.donorsChange>=0?"text-success":"text-danger"])},[s("i",{class:d(o.metrics.donorsChange>=0?"fa fa-arrow-up":"fa fa-arrow-down")},null,2),c(" "+n(Math.abs(o.metrics.donorsChange))+"% vs previous period ",1)],2)])])]),s("div",Z,[s("div",$,[s("div",ss,[s("div",ts,[s("div",null,[t[17]||(t[17]=s("div",{class:"text-muted text-sm mb-1"},"Avg. Donation",-1)),s("div",es,"₦"+n(r.formatAmount(o.metrics.avgDonation)),1)]),t[18]||(t[18]=s("div",{class:"metric-icon bg-info-soft"},[s("i",{class:"fa fa-chart-bar text-info"})],-1))]),s("div",{class:d(["metric-change mt-2",o.metrics.avgChange>=0?"text-success":"text-danger"])},[s("i",{class:d(o.metrics.avgChange>=0?"fa fa-arrow-up":"fa fa-arrow-down")},null,2),c(" "+n(Math.abs(o.metrics.avgChange))+"% vs previous period ",1)],2)])])]),s("div",os,[s("div",ns,[s("div",as,[s("div",is,[s("div",null,[t[19]||(t[19]=s("div",{class:"text-muted text-sm mb-1"},"Conversion Rate",-1)),s("div",ds,n(o.metrics.conversionRate)+"%",1)]),t[20]||(t[20]=s("div",{class:"metric-icon bg-warning-soft"},[s("i",{class:"fa fa-percentage text-warning"})],-1))]),s("div",{class:d(["metric-change mt-2",o.metrics.convChange>=0?"text-success":"text-danger"])},[s("i",{class:d(o.metrics.convChange>=0?"fa fa-arrow-up":"fa fa-arrow-down")},null,2),c(" "+n(Math.abs(o.metrics.convChange))+"% vs previous period ",1)],2)])])])]),s("div",rs,[s("div",ls,[s("div",cs,[s("div",ms,[t[21]||(t[21]=s("h6",{class:"mb-0 text-dark"},[s("i",{class:"fa fa-chart-line me-2"}),c(" Donation Trend ")],-1)),s("div",us,[s("button",{class:d(["btn",o.chartType==="amount"?"btn-success":"btn-outline-secondary"]),onClick:t[6]||(t[6]=e=>o.chartType="amount")}," Amount ",2),s("button",{class:d(["btn",o.chartType==="count"?"btn-success":"btn-outline-secondary"]),onClick:t[7]||(t[7]=e=>o.chartType="count")}," Count ",2)])]),s("div",hs,[t[22]||(t[22]=s("div",{class:"chart-placeholder d-flex align-items-center justify-content-center",style:{height:"280px"}},[s("div",{class:"text-center text-muted"},[s("i",{class:"fa fa-chart-area mb-2",style:{"font-size":"3rem"}}),s("p",{class:"mb-0"},"Chart visualization would render here"),s("small",null,"Integration with Chart.js or similar library")])],-1)),s("div",vs,[s("div",bs,[(a(!0),i(m,null,u(o.mockChartData,(e,h)=>(a(),i("div",{key:h,class:"chart-bar"},[s("div",{class:"bar-fill bg-success",style:v({height:e+"%"})},null,4)]))),128))]),s("div",gs,[(a(!0),i(m,null,u(o.mockChartLabels,(e,h)=>(a(),i("small",{key:h,class:"text-muted"},n(e),1))),128))])])])])]),s("div",fs,[s("div",_s,[t[23]||(t[23]=s("div",{class:"card-header bg-white"},[s("h6",{class:"mb-0 text-dark"},[s("i",{class:"fa fa-globe me-2"}),c(" Donation Sources ")])],-1)),s("div",ps,[(a(!0),i(m,null,u(o.donationSources,e=>(a(),i("div",{key:e.name,class:"source-item mb-3"},[s("div",xs,[s("span",ys,n(e.name),1),s("span",ws,n(e.percentage)+"%",1)]),s("div",Cs,[s("div",{class:d(["progress-bar",e.color]),style:v({width:e.percentage+"%"})},null,6)]),s("small",Ds,"₦"+n(r.formatAmount(e.amount)),1)]))),128))])])])]),s("div",ks,[s("div",As,[s("div",Rs,[t[28]||(t[28]=s("div",{class:"card-header bg-white"},[s("h6",{class:"mb-0 text-dark"},[s("i",{class:"fa fa-heart me-2"}),c(" Beneficiary Impact ")])],-1)),s("div",Fs,[s("div",Ss,[s("div",Ts,[s("div",Ms,n(o.impact.beneficiariesServed),1),t[24]||(t[24]=s("div",{class:"text-muted small"},"Beneficiaries Served",-1))]),s("div",Is,[s("div",js,"₦"+n(r.formatAmount(o.impact.fundsDisbursed)),1),t[25]||(t[25]=s("div",{class:"text-muted small"},"Funds Disbursed",-1))]),s("div",Es,[s("div",zs,n(o.impact.interventions),1),t[26]||(t[26]=s("div",{class:"text-muted small"},"Interventions",-1))])]),t[27]||(t[27]=s("h6",{class:"text-dark mb-3"},"Recent Impacts",-1)),s("div",Bs,[(a(!0),i(m,null,u(o.recentImpacts,e=>(a(),i("div",{key:e.id,class:"impact-item d-flex align-items-start mb-3"},[s("div",Vs,[s("i",{class:d([e.icon,"text-success"])},null,2)]),s("div",Ls,[s("div",Ns,n(e.title),1),s("small",Ps,n(e.description),1)]),s("small",Us,n(r.formatRelativeTime(e.date)),1)]))),128))])])])]),s("div",Gs,[s("div",Hs,[s("div",Js,[t[30]||(t[30]=s("h6",{class:"mb-0 text-dark"},[s("i",{class:"fa fa-star me-2"}),c(" Top Contributors ")],-1)),s("label",Ws,[g(s("input",{type:"checkbox",class:"form-check-input me-2","onUpdate:modelValue":t[8]||(t[8]=e=>o.showAnonymous=e)},null,512),[[D,o.showAnonymous]]),t[29]||(t[29]=c(" Show Anonymous ",-1))])]),s("div",Ys,[s("table",qs,[t[31]||(t[31]=s("thead",{class:"table-light"},[s("tr",null,[s("th",{class:"border-0"},"Rank"),s("th",{class:"border-0"},"Donor"),s("th",{class:"border-0 text-end"},"Total"),s("th",{class:"border-0 text-center"},"Donations")])],-1)),s("tbody",null,[(a(!0),i(m,null,u(r.filteredTopDonors,(e,h)=>(a(),i("tr",{key:e.id},[s("td",null,[s("span",{class:d(["rank-badge",r.getRankClass(h+1)])},n(h+1),3)]),s("td",null,[s("div",Ks,[s("div",Os,[e.isAnonymous?(a(),i("i",Qs)):(a(),i("span",Xs,n(r.getInitials(e.name)),1))]),s("span",null,n(e.isAnonymous?"Anonymous":e.name),1)])]),s("td",Zs,"₦"+n(r.formatAmount(e.total)),1),s("td",$s,n(e.count),1)]))),128))])])])])])]),!o.selectedFundraiserId&&o.fundraisers.length>1?(a(),i("div",st,[t[33]||(t[33]=s("div",{class:"card-header bg-white"},[s("h6",{class:"mb-0 text-dark"},[s("i",{class:"fa fa-th-list me-2"}),c(" Fundraiser Comparison ")])],-1)),s("div",tt,[s("div",et,[s("table",ot,[t[32]||(t[32]=s("thead",{class:"table-light"},[s("tr",null,[s("th",{class:"border-0"},"Fundraiser"),s("th",{class:"border-0"},"Status"),s("th",{class:"border-0 text-end"},"Goal"),s("th",{class:"border-0 text-end"},"Raised"),s("th",{class:"border-0 text-center"},"Progress"),s("th",{class:"border-0 text-center"},"Donors"),s("th",{class:"border-0 text-end"},"Avg Donation")])],-1)),s("tbody",null,[(a(!0),i(m,null,u(o.fundraisers,e=>(a(),i("tr",{key:e.id},[s("td",null,[s("div",nt,n(e.title),1),s("small",at,n(e.category),1)]),s("td",null,[k(_,{status:e.status,type:"lifecycle",size:"sm"},null,8,["status"])]),s("td",it,"₦"+n(r.formatAmount(e.goal)),1),s("td",dt,"₦"+n(r.formatAmount(e.raised)),1),s("td",rt,[s("div",lt,[s("div",ct,[s("div",{class:"progress-bar bg-success",style:v({width:Math.min(100,e.raised/e.goal*100)+"%"})},null,4)]),s("small",mt,n(Math.round(e.raised/e.goal*100))+"%",1)])]),s("td",ut,n(e.donorCount),1),s("td",ht,"₦"+n(r.formatAmount(e.avgDonation)),1)]))),128))])])])])])):A("",!0)])}const _t=y(R,[["render",vt],["__scopeId","data-v-9de48320"]]);export{_t as default};
