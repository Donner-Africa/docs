import{_ as w}from"./PublicLayout-f49aecc4.js";import{D as k}from"./AdvancedTable-f6292a24.js";import{D as C}from"./DirectoryService-5308a66b.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-c7725da7.js";import{l as E,r as i,a as f,c as v,w as s,b as t,d as o,e as r,v as A,x as V,f as m,F as T,g as L,t as g,n as I}from"./index-224ff9c4.js";import{_ as R,a as O,b as B,c as F,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-c54f01a9.js";import{_ as P,a as z}from"./SelectLabel.vue_vue_type_script_setup_true_lang-9f1533d5.js";import{l as K}from"./lodash-ba2182f4.js";import"./logo-f32e4fd3.js";import"./NavigationStore-53124adf.js";import"./StarryBackground-ff9ee561.js";import"./ohash.D__AXeF1-7c81199a.js";const j={name:"NgoDirectory",components:{PublicLayout:w,AdvancedTable:k,Card:N,Select:R,SelectContent:O,SelectGroup:P,SelectItem:B,SelectLabel:z,SelectTrigger:F,SelectValue:q},data(){return{loading:!1,totalResults:0,filters:{query:"",state:"all",industry:"all"},columns:[{key:"name",label:"Organization Name",sort:!0,class:"font-medium text-foreground"},{key:"fullAddress",label:"Location",sort:!1,formatter:l=>l?l.length>50?l.substring(0,50)+"...":l:"Address not listed"},{key:"legalIDNumber",label:"RC Number",sort:!0,formatter:l=>l?`#${l}`:"-"},{key:"status",label:"Status",sort:!0,slot:"status"}],states:["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"]}},methods:{async loadNgos(l){this.loading=!0;try{const e={page:l.page,size:l.size,sort:l.sort,direction:l.direction,query:this.filters.query,state:this.filters.state==="all"?"":this.filters.state,industry:this.filters.industry==="all"?"":this.filters.industry},c=await C.getNgos(e);return this.totalResults=c.totalElements,{content:c.content,totalElements:c.totalElements,totalPages:c.totalPages}}catch(e){return console.error("Error loading NGOs:",e),{content:[],totalElements:0,totalPages:0}}finally{this.loading=!1}},fetchData(){this.$refs.ngoTable&&this.$refs.ngoTable.fetchDataIfNeeded()},onStateChange(l){this.filters.state=l,this.fetchData()},onIndustryChange(l){this.filters.industry=l,this.fetchData()},resetFilters(){this.filters.query="",this.filters.state="all",this.filters.industry="all",this.fetchData()},onDataLoaded(l){},debouncedSearch:K.debounce(function(){this.fetchData()},500)}},G={class:"pt-24 pb-5 md:pt-32 md:pb-5 bg-background"},U={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},H={class:"mt-8 flex justify-center gap-4"},Q={class:"pb-8 bg-background"},J={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center"},Y={class:"md:col-span-5"},Z={class:"md:col-span-3"},W={class:"md:col-span-3"},X={class:"md:col-span-1 flex justify-center md:justify-end"},$={class:"pb-8 bg-background"},ee={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},te={class:"px-6 py-4 border-b border-border/40 flex justify-between items-center"},se={class:"text-sm text-muted-foreground bg-accent/30 px-3 py-1 rounded-full border border-border/40"},oe={class:"p-2"},le={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#367D21]/10 text-[#367D21]"},ae={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-muted-foreground"};function re(l,e,c,ne,n,d){const p=i("router-link"),b=i("SelectValue"),x=i("SelectTrigger"),u=i("SelectItem"),_=i("SelectContent"),y=i("Select"),h=i("Card"),D=i("AdvancedTable"),S=i("PublicLayout");return f(),v(S,null,{default:s(()=>[t("section",G,[t("div",U,[e[4]||(e[4]=t("span",{class:"inline-block py-1 px-3 rounded-full bg-[#367D21]/10 text-[#367D21] text-xs font-semibold tracking-wider uppercase mb-4"}," Public Registry ",-1)),e[5]||(e[5]=t("h1",{class:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground tracking-tight mb-4"}," Trusted NGO Directory ",-1)),e[6]||(e[6]=t("p",{class:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto"}," Connecting you with verified non-profits making a real difference across Nigeria. ",-1)),t("div",H,[o(p,{to:"/directory/stats",class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white bg-[#367D21] hover:bg-[#2e6b1c] transition-colors"},{default:s(()=>[...e[3]||(e[3]=[t("i",{class:"fa fa-chart-bar mr-2"},null,-1),r(" View Statistics ",-1)])]),_:1})])])]),t("section",Q,[t("div",J,[o(h,{class:"p-6 border-border/40 bg-card"},{default:s(()=>[t("div",M,[t("div",Y,[A(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.filters.query=a),onInput:e[1]||(e[1]=(...a)=>d.debouncedSearch&&d.debouncedSearch(...a)),type:"text",class:"w-full form-control form-control-lg transition-all duration-200 ease-in-out",placeholder:"Search by organization name..."},null,544),[[V,n.filters.query]])]),t("div",Z,[o(y,{"model-value":n.filters.state,"onUpdate:modelValue":d.onStateChange},{default:s(()=>[o(x,{class:"w-full rounded-full border-border/40 bg-accent/30 h-12"},{default:s(()=>[o(b,{placeholder:"All Locations"})]),_:1}),o(_,{class:"bg-card max-h-60"},{default:s(()=>[o(u,{value:"all"},{default:s(()=>[...e[7]||(e[7]=[r("All Locations",-1)])]),_:1}),(f(!0),m(T,null,L(n.states,a=>(f(),v(u,{key:a,value:a},{default:s(()=>[r(g(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",W,[o(y,{"model-value":n.filters.industry,"onUpdate:modelValue":d.onIndustryChange},{default:s(()=>[o(x,{class:"w-full rounded-full border-border/40 bg-accent/30 h-12"},{default:s(()=>[o(b,{placeholder:"All Categories"})]),_:1}),o(_,{class:"bg-card"},{default:s(()=>[o(u,{value:"all"},{default:s(()=>[...e[8]||(e[8]=[r("All Categories",-1)])]),_:1}),o(u,{value:"Non-Profit"},{default:s(()=>[...e[9]||(e[9]=[r("Non-Profit",-1)])]),_:1}),o(u,{value:"Health"},{default:s(()=>[...e[10]||(e[10]=[r("Health",-1)])]),_:1}),o(u,{value:"Education"},{default:s(()=>[...e[11]||(e[11]=[r("Education",-1)])]),_:1}),o(u,{value:"Environment"},{default:s(()=>[...e[12]||(e[12]=[r("Environment",-1)])]),_:1}),o(u,{value:"Human Rights"},{default:s(()=>[...e[13]||(e[13]=[r("Human Rights",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",X,[t("button",{onClick:e[2]||(e[2]=(...a)=>d.resetFilters&&d.resetFilters(...a)),class:"p-3 rounded-full text-muted-foreground hover:text-red-500 hover:bg-red-50 transition-colors",title:"Reset Filters"},[t("i",{class:I(["fa fa-refresh",{"fa-spin":n.loading}])},null,2)])])])]),_:1})])]),t("section",$,[t("div",ee,[o(h,{class:"border-border/40 bg-card overflow-hidden"},{default:s(()=>[t("div",te,[e[14]||(e[14]=t("h2",{class:"text-lg font-semibold text-foreground flex items-center"},[t("span",{class:"w-2 h-2 rounded-full bg-[#367D21] mr-2"}),r(" Verified Organizations ")],-1)),t("span",se,g(n.totalResults>0?`${n.totalResults.toLocaleString()} found`:"Searching..."),1)]),t("div",oe,[o(D,{ref:"ngoTable",title:"NGOs",columns:n.columns,fetchData:d.loadNgos,loadAsync:!0,filterQuery:n.filters.query,hasActions:!0,onDataLoaded:d.onDataLoaded},{status:s(({value:a})=>[a==="VERIFIED"?(f(),m("span",le,[...e[15]||(e[15]=[t("i",{class:"fa fa-check-circle mr-1"},null,-1),r(" Verified ",-1)])])):(f(),m("span",ae,g(a),1))]),actions:s(({row:a})=>[o(p,{to:`/directory/${a.reference}`,class:"group inline-flex items-center px-4 py-2 border border-[#367D21]/30 text-sm font-medium rounded-full text-[#367D21] bg-card hover:bg-[#367D21]/5 hover:border-[#367D21]/50 transition-all"},{default:s(()=>[...e[16]||(e[16]=[t("span",null,"View",-1),t("i",{class:"fa fa-arrow-right ml-2 text-xs transform group-hover:translate-x-1 transition-transform"},null,-1)])]),_:1},8,["to"])]),_:1},8,["columns","fetchData","filterQuery","onDataLoaded"])])]),_:1})])])]),_:1})}const he=E(j,[["render",re]]);export{he as default};
