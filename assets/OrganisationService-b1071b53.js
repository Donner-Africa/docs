import{ah as a,aP as n}from"./index-7b07f307.js";const i={createOrganisationCurrentStep:()=>window.localStorage.getItem("createOrganisationCurrentStep"),draftOrganisation:()=>JSON.parse(window.localStorage.getItem("draftOrganisation")),newOrganisation:()=>n().$state.newOrganisation,newOrganisationIsComplete:t=>JSON.parse(window.localStorage.getItem("newOrganisationIsComplete")||"false"),userOrganisations:async()=>{try{return await a.get("/me/organisations",{authorizeRequest:!0})}catch(t){throw t}}},o={createOrganisationCurrentStep:t=>{window.localStorage.setItem("createOrganisationCurrentStep",t)},draftOrganisation:t=>{window.localStorage.setItem("draftOrganisation",JSON.stringify(t))},newOrganisationIsComplete:t=>{window.localStorage.setItem("newOrganisationIsComplete",t)},newOrganisation:async t=>{newOrganisationStore.commit(t)}},s={createOrganisationCurrentStep:()=>{window.localStorage.removeItem("createOrganisationCurrentStep")},newOrganisationIsComplete:()=>{window.localStorage.removeItem("newOrganisationIsComplete")},newOrganisation:async()=>{newOrganisationStore.clear()},draftOrganisation:()=>{window.localStorage.removeItem("draftOrganisation")}},u={async get(t,e){try{return await i[t](e)}catch{return}},async set(t,e){try{await o[t](e)}catch{throw new Error(`Unable to set ${t}`)}},async clear(t){try{await s[t]()}catch{throw new Error(`Unable to clear ${t}`)}},async create(t){const{data:e}=await a.post("organisations",{data:{...t},authorizeRequest:!0});return this.clear("newOrganisation"),this.clear("newOrganisationIsComplete"),this.clear("createOrganisationCurrentStep"),e},async getOrganisation(t){return await a.get(`/me/organisations/${t}`,{authorizeRequest:!0})},async getOrganisations(){return await a.get("/me/organisations",{authorizeRequest:!0})},async switchOrganisation(t){return await a.post(`/me/organisations/switch/${t}`,{authorizeRequest:!0})},async createSubscription({organisationReference:t,paymentProvider:e,transactionReference:r}){return await a.post(`/me/organisations/${t}/subscriptions`,{data:{paymentProvider:e,transactionReference:r},authorizeRequest:!0})},async getVerifications(t){return await a.get(`/me/organisations/${t}/verifications`,{authorizeRequest:!0})},async startConsultation(t,e,r){return await a.post(`/me/organisations/${t}/consultations`,{data:{files:r,message:e},authorizeRequest:!0,isMultipart:!0})}};export{u as default};
