import{B as _}from"./BaseButton-c6c5ab63.js";import{F as M}from"./FormMessage-3d1df468.js";import{_ as C}from"./PublicLayout-5ccc5a06.js";import{l as L,U as v,A as g,p as x,r as f,a as r,c as S,w as b,b as s,f as l,h as d,q as h,s as a,v as c,x as B,y as N,d as p,e as y,t as P}from"./index-7ab8b32e.js";import"./logo-f32e4fd3.js";import"./NavigationStore-5ae23ca1.js";import"./StarryBackground-a80d183f.js";const I={components:{BaseButton:_,FormMessage:M,PublicLayout:C},data(){return{loading:!1,signUpModel:{firstName:"",lastName:"",email:"",countryCode:"+234",phone:"",password:"",confirmPassword:"",receiveUpdates:!0},currentStep:1,responseMessage:{text:null,type:"error"}}},async mounted(){const i=await v.get("isLoggedIn"),e=await v.get("user");if(i&&(e!=null&&e.name))return this.$router.push("/");i||e!=null&&e.name?await g.logout():(document.cookie="g_state=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.activateGoogleSignIn())},computed:{formDisabled(){return this.loading||void 0}},methods:{async handleCredentialResponse(i){var m;this.loading=!0,typeof((m=this.$Progress)==null?void 0:m.start)=="function"&&this.$Progress.start();let e=null;try{const o=await fetch("https://ipapi.co/json/");if(o.ok){const n=await o.json();e=`${n.city}, ${n.region}, ${n.country}`}}catch{}const u={provider:"google",accessToken:i.credential,location:e};await g.createSession(u),this.$router.push("/")},redirectToGoogleOAuth(){const i="https://donner.africa",e="118530506574-uuknbpk60trrnkdbdafd8gn8vvtfckn3.apps.googleusercontent.com",u=encodeURIComponent(i+"/account/google"),m=encodeURIComponent("openid email profile"),o=Math.random().toString(36).substring(2)+Date.now().toString(36),n=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${e}&redirect_uri=${u}&response_type=id_token&scope=${m}&nonce=${o}`;window.location.href=n},activateGoogleSignIn(){document.cookie="g_state=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",!(!window.google||!window.google.accounts)&&(window.google.accounts.id.initialize({client_id:"118530506574-uuknbpk60trrnkdbdafd8gn8vvtfckn3.apps.googleusercontent.com",callback:this.handleCredentialResponse,use_fedcm_for_prompt:!0}),window.google.accounts.id.prompt())},activateLinkedInSignIn(){window.location.href="https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=77kg1tkj4odek6&redirect_uri=https://donner.africa/account/linkedin&scope=openid%20profile%20email%20w_member_social"},async signUp(){if(this.signUpModel.password!==this.signUpModel.confirmPassword){this.responseMessage={html:"Your passwords do not match. <br/>Confirm your password.",type:"error"};return}this.loading=!0,this.$Progress.start();try{const{data:i,message:e}=await g.registerUser({...this.signUpModel});x().toast({message:e||"You have signed up successfully",type:"success"}),this.currentStep=2}catch(i){x().toast({message:i.message||"An issue was met while signing you up",type:"error"}),this.responseMessage={html:`<strong>${i.message}</strong>`,type:"error"}}this.loading=!1,this.$Progress.finish()}}},D={class:"page-header min-vh-100 align-items-start bg-background"},V={class:"container px-sm-auto px-0"},T={class:"row"},A={class:"col-lg-7 col-md-8 mx-sm-auto mx-0 my-0 my-sm-5 px-0 px-sm-auto py-sm-7"},q={class:"card shadow-none bg-transparent rounded-3 min-vh-100 min-vh-sm-80"},R={class:"card-body px-lg-5 py-lg-5 text-start"},G={key:0,class:"text-foreground"},F={key:1,class:"mb-4 text-foreground"},Y={class:"px-md-4 ps-2 pe-4 row"},j={class:"form-group mt-3 col-sm-6"},z={class:"input-group"},E=["disabled"],J={class:"form-group mt-3 col-sm-6"},O={class:"input-group"},H=["disabled"],K={key:0,class:"form-group mt-3 col-sm-6 form-section active"},Q={class:"input-group"},W=["disabled"],X={key:1,class:"form-group mt-3 col-sm-6 form-section active"},Z={class:"input-group"},$={class:"input-group-text ps-3 pe-1 py-0"},ee=["disabled"],se=["disabled"],oe={key:2,class:"form-group mt-3 col-sm-6 form-section active"},te={class:"input-group"},ne=["disabled"],ie={key:3,class:"form-group mt-3 col-sm-6 form-section active"},re={class:"input-group"},le=["disabled"],de={key:4,class:"col-12 form-section active"},ae={class:"form-group mt-3 mx-2"},pe={class:"form-check form-switch"},ce=["disabled"],ue={class:"form-group mt-3"},me={class:"text-lg text-foreground mt-4"},ge={class:"col-12 my-2"},fe={class:"row"},be={class:"col-md-6 h-[100%]"},he={class:"col-md-6 h-[100%]"},ve={class:"form-section active"},xe={key:0,class:"px-md-4 ps-2 pe-4 row"},ye={class:"col-12 text-center my-5 py-5"},we={class:"text-lg text-foreground mb-4"};function Ue(i,e,u,m,o,n){const w=f("BaseButton"),U=f("RouterLink"),k=f("PublicLayout");return r(),S(k,null,{default:b(()=>[s("section",null,[s("div",D,[s("div",V,[s("div",T,[s("div",A,[s("div",q,[s("div",R,[o.currentStep==1?(r(),l("h2",G,"Create an account")):d("",!0),o.currentStep==1?(r(),l("p",F,"Sign up to manage partnerships and publish fundraisers.")):d("",!0),o.currentStep==1?(r(),l("form",{key:2,class:"form-section active",onSubmit:e[10]||(e[10]=h((...t)=>n.signUp&&n.signUp(...t),["prevent"]))},[s("div",Y,[e[31]||(e[31]=s("div",{class:"col-12"},null,-1)),s("div",j,[e[12]||(e[12]=s("label",{class:"text-foreground text-sm"}," First name ",-1)),s("div",z,[e[11]||(e[11]=s("span",{class:"input-group-text px-3"},[s("i",{class:"fas fa-user","aria-hidden":"true"})],-1)),a(s("input",{class:"form-control form-control-lg text-lg ps-1",minlength:"2",autocomplete:"true","onUpdate:modelValue":e[0]||(e[0]=t=>o.signUpModel.firstName=t),required:"",placeholder:"Hau'wa",disabled:n.formDisabled},null,8,E),[[c,o.signUpModel.firstName]])])]),s("div",J,[e[14]||(e[14]=s("label",{class:"text-foreground text-sm"}," Last name ",-1)),s("div",O,[e[13]||(e[13]=s("span",{class:"input-group-text px-3"},[s("i",{class:"fas fa-user","aria-hidden":"true"})],-1)),a(s("input",{class:"form-control form-control-lg text-lg ps-1",minlength:"2",autocomplete:"true","onUpdate:modelValue":e[1]||(e[1]=t=>o.signUpModel.lastName=t),required:"",placeholder:"John",disabled:n.formDisabled},null,8,H),[[c,o.signUpModel.lastName]])])]),o.signUpModel.firstName&&o.signUpModel.lastName?(r(),l("div",K,[e[16]||(e[16]=s("label",{class:"text-foreground text-sm"}," Email ",-1)),s("div",Q,[e[15]||(e[15]=s("span",{class:"input-group-text px-3"},[s("i",{class:"fas fa-envelope","aria-hidden":"true"})],-1)),a(s("input",{class:"form-control form-control-lg text-lg ps-1",autocomplete:"true",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>o.signUpModel.email=t),type:"email",placeholder:"firstname.lastname@domain.com",disabled:n.formDisabled},null,8,W),[[c,o.signUpModel.email]])])])):d("",!0),o.signUpModel.firstName&&o.signUpModel.lastName?(r(),l("div",X,[e[20]||(e[20]=s("label",{class:"text-foreground text-sm"}," Phone ",-1)),s("div",Z,[s("span",$,[e[18]||(e[18]=s("span",{class:"","aria-hidden":"true"},[s("i",{class:"fas fa-phone"})],-1)),a(s("select",{class:"form-control form-control-lg text-lg border-0 ms-2 ps-1 rounded-0 disabled:bg-card","onUpdate:modelValue":e[3]||(e[3]=t=>o.signUpModel.countryCode=t),disabled:n.formDisabled},[...e[17]||(e[17]=[s("option",{selected:""},"+234",-1)])],8,ee),[[B,o.signUpModel.countryCode]])]),a(s("input",{class:"form-control form-control-lg text-lg","onUpdate:modelValue":e[4]||(e[4]=t=>o.signUpModel.phone=t),required:"",type:"tel",minlength:"9","max-length":"12",placeholder:"8107758090",disabled:n.formDisabled},null,8,se),[[c,o.signUpModel.phone]]),e[19]||(e[19]=s("button",{class:"bg-card px-3 mb-0",type:"button",style:{"border-radius":"0 1.83rem 1.83rem 0",border:"solid 0.4px var(--border)"}}," ðŸ‡³ðŸ‡¬ ",-1))])])):d("",!0),o.signUpModel.email&&o.signUpModel.phone?(r(),l("div",oe,[e[22]||(e[22]=s("label",{class:"text-foreground text-sm"}," Password ",-1)),s("div",te,[e[21]||(e[21]=s("span",{class:"input-group-text px-3"},[s("i",{class:"fas fa-lock","aria-hidden":"true"})],-1)),a(s("input",{class:"form-control form-control-lg text-lg ps-1",autocomplete:"true","onUpdate:modelValue":e[5]||(e[5]=t=>o.signUpModel.password=t),required:"",type:"password",placeholder:"********",disabled:n.formDisabled},null,8,ne),[[c,o.signUpModel.password]])])])):d("",!0),o.signUpModel.email&&o.signUpModel.phone?(r(),l("div",ie,[e[24]||(e[24]=s("label",{class:"text-foreground text-sm w-[100%]"}," Confirm Password ",-1)),s("div",re,[e[23]||(e[23]=s("span",{class:"input-group-text px-3"},[s("i",{class:"fas fa-lock","aria-hidden":"true"})],-1)),a(s("input",{class:"form-control form-control-lg text-lg ps-1",autocomplete:"true","onUpdate:modelValue":e[6]||(e[6]=t=>o.signUpModel.confirmPassword=t),required:"",type:"password",placeholder:"********",disabled:n.formDisabled},null,8,le),[[c,o.signUpModel.confirmPassword]])])])):d("",!0),o.signUpModel.email&&o.signUpModel.phone?(r(),l("div",de,[s("div",ae,[s("div",pe,[a(s("input",{class:"form-check-input",type:"checkbox",checked:"true",id:"receiveUpdates","onUpdate:modelValue":e[7]||(e[7]=t=>o.signUpModel.receiveUpdates=t),disabled:n.formDisabled},null,8,ce),[[N,o.signUpModel.receiveUpdates]]),e[25]||(e[25]=s("label",{class:"form-check-label text-secondary",for:"receiveUpdates"},[p(" Receive updates on raising events and giving tips from your"),s("span",{class:"text-bold text-success"}," #1 team"),p(". "),s("br"),p(" You can unsubscribe at any time. ")],-1))])]),s("div",ue,[y(w,{nativeType:"submit",class:"btn btn-primary float-end",loading:o.loading},{default:b(()=>[...e[26]||(e[26]=[p(" Sign Up ",-1)])]),_:1},8,["loading"])])])):d("",!0),s("span",me,[e[28]||(e[28]=p(" Have an account? ",-1)),y(U,{to:"/account/login",class:"text-success text-bold"},{default:b(()=>[...e[27]||(e[27]=[p(" Login ",-1)])]),_:1})]),e[32]||(e[32]=s("hr",{class:"bg-foreground",style:{margin:"2rem 0",height:"3px"}},null,-1)),s("div",ge,[s("div",fe,[s("div",be,[s("a",{class:"btn w-[100%] h-[100%] btn-white border border-light bg-card",onClick:e[8]||(e[8]=h((...t)=>n.activateLinkedInSignIn&&n.activateLinkedInSignIn(...t),["prevent"]))},[...e[29]||(e[29]=[s("span",{class:"me-2 text-secondary"}," LinkedIn ",-1),s("i",{class:"fab fa-linkedin text-info lead"},null,-1)])])]),s("div",he,[s("a",{class:"btn text-secondary w-[100%] h-[100%] btn-white border border-light bg-card",onClick:e[9]||(e[9]=h((...t)=>n.redirectToGoogleOAuth&&n.redirectToGoogleOAuth(...t),["prevent"]))},[...e[30]||(e[30]=[s("span",{class:"me-2"}," Google ",-1),s("svg",{width:"24px",height:"32px",viewBox:"0 0 64 64",version:"1.1"},[s("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[s("g",{transform:"translate(3.000000, 2.000000)","fill-rule":"nonzero"},[s("path",{d:"M57.8123233,30.1515267 C57.8123233,27.7263183 57.6155321,25.9565533 57.1896408,24.1212666 L29.4960833,24.1212666 L29.4960833,35.0674653 L45.7515771,35.0674653 C45.4239683,37.7877475 43.6542033,41.8844383 39.7213169,44.6372555 L39.6661883,45.0037254 L48.4223791,51.7870338 L49.0290201,51.8475849 C54.6004021,46.7020943 57.8123233,39.1313952 57.8123233,30.1515267",fill:"#4285F4"}),s("path",{d:"M29.4960833,58.9921667 C37.4599129,58.9921667 44.1456164,56.3701671 49.0290201,51.8475849 L39.7213169,44.6372555 C37.2305867,46.3742596 33.887622,47.5868638 29.4960833,47.5868638 C21.6960582,47.5868638 15.0758763,42.4415991 12.7159637,35.3297782 L12.3700541,35.3591501 L3.26524241,42.4054492 L3.14617358,42.736447 C7.9965904,52.3717589 17.959737,58.9921667 29.4960833,58.9921667",fill:"#34A853"}),s("path",{d:"M12.7159637,35.3297782 C12.0932812,33.4944915 11.7329116,31.5279353 11.7329116,29.4960833 C11.7329116,27.4640054 12.0932812,25.4976752 12.6832029,23.6623884 L12.6667095,23.2715173 L3.44779955,16.1120237 L3.14617358,16.2554937 C1.14708246,20.2539019 0,24.7439491 0,29.4960833 C0,34.2482175 1.14708246,38.7380388 3.14617358,42.736447 L12.7159637,35.3297782",fill:"#FBBC05"}),s("path",{d:"M29.4960833,11.4050769 C35.0347044,11.4050769 38.7707997,13.7975244 40.9011602,15.7968415 L49.2255853,7.66898166 C44.1130815,2.91684746 37.4599129,0 29.4960833,0 C17.959737,0 7.9965904,6.62018183 3.14617358,16.2554937 L12.6832029,23.6623884 C15.0758763,16.5505675 21.6960582,11.4050769 29.4960833,11.4050769",fill:"#EB4335"})])])],-1)])])])])])])],32)):d("",!0),s("div",ve,[o.currentStep==2?(r(),l("div",xe,[s("div",ye,[e[35]||(e[35]=s("i",{class:"fas fa-check-circle fa-5x text-success mb-4 border-[solid var(--background) 20px]"},null,-1)),e[36]||(e[36]=s("h3",{class:"mb-3 text-foreground"},"Account Created!",-1)),e[37]||(e[37]=s("p",{class:"text-lg text-foreground opacity-7 mb-4"}," Your account has been created successfully. ",-1)),s("p",we,[e[33]||(e[33]=p(" An email has been sent to ",-1)),s("strong",null,P(o.signUpModel.email),1),e[34]||(e[34]=p(" with a link to verify your email address. ",-1))])])])):d("",!0)])])])])])])])])]),_:1})}const Ne=L(I,[["render",Ue]]);export{Ne as default};
